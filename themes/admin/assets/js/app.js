/*! For license information please see app.js.LICENSE.txt */
(self.webpackChunkjohncms=self.webpackChunkjohncms||[]).push([[250],{8841:(t,e,i)=>{"use strict";var n=i(538);i(7922),i(5150),i(8187),i(6425),i(3611),i(3559),i(7437),i(1370),i(3819),i(693),i(6907);var s=i(26);s.keys().map((function(t){return n.Z.component(t.split("/").pop().split(".")[0],s(t).default)})),n.Z.component("pagination",i(1606)),document.querySelectorAll(".vue_app").forEach((function(t){new n.Z({el:t})}))},7922:(t,e,i)=>{try{window.Popper=i(8981).default,window.$=window.jQuery=i(9755),window.axios=i(9669),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";i(6486);i(3734)}catch(t){}},3559:()=>{function t(){$("#first_post_block .post-preview").toggle(0)}$("#first_post").on("hide.bs.collapse",(function(e){t()})).on("shown.bs.collapse",(function(){t()})),$((function(){$(".image-gallery").each((function(){$(this).magnificPopup({delegate:".gallery-item",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(t){return t.el.attr("title")+' &middot; <a class="image-source-link" href="'+t.el.attr("data-source")+'" target="_blank">Download</a>'}},zoom:{enabled:!0,duration:300,opener:function(t){return t.find("img")}}})})),$(".image-preview").magnificPopup({type:"image",image:{verticalFit:!0,titleSrc:function(t){return t.el.attr("title")+' &middot; <a class="image-source-link" href="'+t.el.attr("data-source")+'" target="_blank">Download</a>'}},zoom:{enabled:!0,duration:300,opener:function(t){return t.find("img")}}}),$('[data-toggle="tooltip"]').tooltip()})),$(".custom-file-input").on("change",(function(){var t=$(this).val().split("\\").pop();$(this).siblings(".custom-file-label").addClass("selected").html(t)}))},5150:(t,e,i)=>{var n,s,o;s=[i(9755)],void 0===(o="function"==typeof(n=function(t){var e,i,n,s,o,a,r="Close",l="BeforeClose",c="AfterClose",d="BeforeAppend",u="MarkupParse",p="Open",h="Change",f="mfp",m="."+f,g="mfp-ready",b="mfp-removing",v="mfp-prevent-close",y=function(){},x=!!window.jQuery,w=t(window),T=function(t,i){e.ev.on(f+t+m,i)},C=function(e,i,n,s){var o=document.createElement("div");return o.className="mfp-"+e,n&&(o.innerHTML=n),s?i&&i.appendChild(o):(o=t(o),i&&o.appendTo(i)),o},E=function(i,n){e.ev.triggerHandler(f+i,n),e.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),e.st.callbacks[i]&&e.st.callbacks[i].apply(e,t.isArray(n)?n:[n]))},S=function(i){return i===a&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),a=i),e.currTemplate.closeBtn},L=function(){t.magnificPopup.instance||((e=new y).init(),t.magnificPopup.instance=e)},A=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};y.prototype={constructor:y,init:function(){var i=navigator.appVersion;e.isLowIE=e.isIE8=document.all&&!document.addEventListener,e.isAndroid=/android/gi.test(i),e.isIOS=/iphone|ipad|ipod/gi.test(i),e.supportsTransition=A(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=t(document),e.popupsCache={}},open:function(i){var s;if(!1===i.isObj){e.items=i.items.toArray(),e.index=0;var a,r=i.items;for(s=0;s<r.length;s++)if((a=r[s]).parsed&&(a=a.el[0]),a===i.el[0]){e.index=s;break}}else e.items=t.isArray(i.items)?i.items:[i.items],e.index=i.index||0;if(!e.isOpen){e.types=[],o="",i.mainEl&&i.mainEl.length?e.ev=i.mainEl.eq(0):e.ev=n,i.key?(e.popupsCache[i.key]||(e.popupsCache[i.key]={}),e.currTemplate=e.popupsCache[i.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,i),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=C("bg").on("click"+m,(function(){e.close()})),e.wrap=C("wrap").attr("tabindex",-1).on("click"+m,(function(t){e._checkIfClose(t.target)&&e.close()})),e.container=C("container",e.wrap)),e.contentContainer=C("content"),e.st.preloader&&(e.preloader=C("preloader",e.container,e.st.tLoading));var l=t.magnificPopup.modules;for(s=0;s<l.length;s++){var c=l[s];c=c.charAt(0).toUpperCase()+c.slice(1),e["init"+c].call(e)}E("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(T(u,(function(t,e,i,n){i.close_replaceWith=S(n.type)})),o+=" mfp-close-btn-in"):e.wrap.append(S())),e.st.alignTop&&(o+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:w.scrollTop(),position:"absolute"}),(!1===e.st.fixedBgPos||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:n.height(),position:"absolute"}),e.st.enableEscapeKey&&n.on("keyup"+m,(function(t){27===t.keyCode&&e.close()})),w.on("resize"+m,(function(){e.updateSize()})),e.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&e.wrap.addClass(o);var d=e.wH=w.height(),h={};if(e.fixedContentPos&&e._hasScrollBar(d)){var f=e._getScrollbarSize();f&&(h.marginRight=f)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):h.overflow="hidden");var b=e.st.mainClass;return e.isIE7&&(b+=" mfp-ie7"),b&&e._addClassToMFP(b),e.updateItemHTML(),E("BuildControls"),t("html").css(h),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||t(document.body)),e._lastFocusedEl=document.activeElement,setTimeout((function(){e.content?(e._addClassToMFP(g),e._setFocus()):e.bgOverlay.addClass(g),n.on("focusin"+m,e._onFocusIn)}),16),e.isOpen=!0,e.updateSize(d),E(p),i}e.updateItemHTML()},close:function(){e.isOpen&&(E(l),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(b),setTimeout((function(){e._close()}),e.st.removalDelay)):e._close())},_close:function(){E(r);var i=b+" "+g+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(i+=e.st.mainClass+" "),e._removeClassFromMFP(i),e.fixedContentPos){var s={marginRight:""};e.isIE7?t("body, html").css("overflow",""):s.overflow="",t("html").css(s)}n.off("keyup"+m+" focusin"+m),e.ev.off(m),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&!0!==e.currTemplate[e.currItem.type]||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e.st.autoFocusLast&&e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,E(c)},updateSize:function(t){if(e.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;e.wrap.css("height",n),e.wH=n}else e.wH=t||w.height();e.fixedContentPos||e.wrap.css("height",e.wH),E("Resize")},updateItemHTML:function(){var i=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),i.parsed||(i=e.parseEl(e.index));var n=i.type;if(E("BeforeChange",[e.currItem?e.currItem.type:"",n]),e.currItem=i,!e.currTemplate[n]){var o=!!e.st[n]&&e.st[n].markup;E("FirstMarkupParse",o),e.currTemplate[n]=!o||t(o)}s&&s!==i.type&&e.container.removeClass("mfp-"+s+"-holder");var a=e["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,e.currTemplate[n]);e.appendContent(a,n),i.preloaded=!0,E(h,i),s=i.type,e.container.prepend(e.contentContainer),E("AfterChange")},appendContent:function(t,i){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&!0===e.currTemplate[i]?e.content.find(".mfp-close").length||e.content.append(S()):e.content=t:e.content="",E(d),e.container.addClass("mfp-"+i+"-holder"),e.contentContainer.append(e.content)},parseEl:function(i){var n,s=e.items[i];if(s.tagName?s={el:t(s)}:(n=s.type,s={data:s,src:s.src}),s.el){for(var o=e.types,a=0;a<o.length;a++)if(s.el.hasClass("mfp-"+o[a])){n=o[a];break}s.src=s.el.attr("data-mfp-src"),s.src||(s.src=s.el.attr("href"))}return s.type=n||e.st.type||"inline",s.index=i,s.parsed=!0,e.items[i]=s,E("ElementParse",s),e.items[i]},addGroup:function(t,i){var n=function(n){n.mfpEl=this,e._openClick(n,t,i)};i||(i={});var s="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(s).on(s,n)):(i.isObj=!1,i.delegate?t.off(s).on(s,i.delegate,n):(i.items=t,t.off(s).on(s,n)))},_openClick:function(i,n,s){if((void 0!==s.midClick?s.midClick:t.magnificPopup.defaults.midClick)||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var o=void 0!==s.disableOn?s.disableOn:t.magnificPopup.defaults.disableOn;if(o)if(t.isFunction(o)){if(!o.call(e))return!0}else if(w.width()<o)return!0;i.type&&(i.preventDefault(),e.isOpen&&i.stopPropagation()),s.el=t(i.mfpEl),s.delegate&&(s.items=n.find(s.delegate)),e.open(s)}},updateStatus:function(t,n){if(e.preloader){i!==t&&e.container.removeClass("mfp-s-"+i),n||"loading"!==t||(n=e.st.tLoading);var s={status:t,text:n};E("UpdateStatus",s),t=s.status,n=s.text,e.preloader.html(n),e.preloader.find("a").on("click",(function(t){t.stopImmediatePropagation()})),e.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(i){if(!t(i).hasClass(v)){var n=e.st.closeOnContentClick,s=e.st.closeOnBgClick;if(n&&s)return!0;if(!e.content||t(i).hasClass("mfp-close")||e.preloader&&i===e.preloader[0])return!0;if(i===e.content[0]||t.contains(e.content[0],i)){if(n)return!0}else if(s&&t.contains(document,i))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?n.height():document.body.scrollHeight)>(t||w.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(i){if(i.target!==e.wrap[0]&&!t.contains(e.wrap[0],i.target))return e._setFocus(),!1},_parseMarkup:function(e,i,n){var s;n.data&&(i=t.extend(n.data,i)),E(u,[e,i,n]),t.each(i,(function(i,n){if(void 0===n||!1===n)return!0;if((s=i.split("_")).length>1){var o=e.find(m+"-"+s[0]);if(o.length>0){var a=s[1];"replaceWith"===a?o[0]!==n[0]&&o.replaceWith(n):"img"===a?o.is("img")?o.attr("src",n):o.replaceWith(t("<img>").attr("src",n).attr("class",o.attr("class"))):o.attr(s[1],n)}}else e.find(m+"-"+i).html(n)}))},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:y.prototype,modules:[],open:function(e,i){return L(),(e=e?t.extend(!0,{},e):{}).isObj=!0,e.index=i||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,i){i.options&&(t.magnificPopup.defaults[e]=i.options),t.extend(this.proto,i.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(i){L();var n=t(this);if("string"==typeof i)if("open"===i){var s,o=x?n.data("magnificPopup"):n[0].magnificPopup,a=parseInt(arguments[1],10)||0;o.items?s=o.items[a]:(s=n,o.delegate&&(s=s.find(o.delegate)),s=s.eq(a)),e._openClick({mfpEl:s},n,o)}else e.isOpen&&e[i].apply(e,Array.prototype.slice.call(arguments,1));else i=t.extend(!0,{},i),x?n.data("magnificPopup",i):n[0].magnificPopup=i,e.addGroup(n,i);return n};var k,R,I,N="inline",B=function(){I&&(R.after(I.addClass(k)).detach(),I=null)};t.magnificPopup.registerModule(N,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(N),T(r+"."+N,(function(){B()}))},getInline:function(i,n){if(B(),i.src){var s=e.st.inline,o=t(i.src);if(o.length){var a=o[0].parentNode;a&&a.tagName&&(R||(k=s.hiddenClass,R=C(k),k="mfp-"+k),I=o.after(R).detach().removeClass(k)),e.updateStatus("ready")}else e.updateStatus("error",s.tNotFound),o=t("<div>");return i.inlineElement=o,o}return e.updateStatus("ready"),e._parseMarkup(n,{},i),n}}});var _,$="ajax",O=function(){_&&t(document.body).removeClass(_)},F=function(){O(),e.req&&e.req.abort()};t.magnificPopup.registerModule($,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push($),_=e.st.ajax.cursor,T(r+"."+$,F),T("BeforeChange."+$,F)},getAjax:function(i){_&&t(document.body).addClass(_),e.updateStatus("loading");var n=t.extend({url:i.src,success:function(n,s,o){var a={data:n,xhr:o};E("ParseAjax",a),e.appendContent(t(a.data),$),i.finished=!0,O(),e._setFocus(),setTimeout((function(){e.wrap.addClass(g)}),16),e.updateStatus("ready"),E("AjaxContentAdded")},error:function(){O(),i.finished=i.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",i.src))}},e.st.ajax.settings);return e.req=t.ajax(n),""}}});var M,P=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=e.st.image.titleSrc;if(n){if(t.isFunction(n))return n.call(e,i);if(i.el)return i.el.attr(n)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=e.st.image,n=".image";e.types.push("image"),T(p+n,(function(){"image"===e.currItem.type&&i.cursor&&t(document.body).addClass(i.cursor)})),T(r+n,(function(){i.cursor&&t(document.body).removeClass(i.cursor),w.off("resize"+m)})),T("Resize"+n,e.resizeImage),e.isLowIE&&T("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var i=0;e.isLowIE&&(i=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-i)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,M&&clearInterval(M),t.isCheckingImgSize=!1,E("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0];!function s(o){M&&clearInterval(M),M=setInterval((function(){n.naturalWidth>0?e._onImageHasSize(t):(i>200&&clearInterval(M),3==++i?s(10):40===i?s(50):100===i&&s(500))}),o)}(1)},getImage:function(i,n){var s=0,o=function t(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,E("ImageLoadComplete")):++s<200?setTimeout(t,100):a())},a=function(){i&&(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("error",r.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},r=e.st.image,l=n.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.el&&i.el.find("img").length&&(c.alt=i.el.find("img").attr("alt")),i.img=t(c).on("load.mfploader",o).on("error.mfploader",a),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),(c=i.img[0]).naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return e._parseMarkup(n,{title:P(i),img_replaceWith:i.img},i),e.resizeImage(),i.hasSize?(M&&clearInterval(M),i.loadError?(n.addClass("mfp-loading"),e.updateStatus("error",r.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),e.updateStatus("ready")),n):(e.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),e.findImageSize(i)),n)}}});var U,D=function(){return void 0===U&&(U=void 0!==document.createElement("p").style.MozTransform),U};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,i=e.st.zoom,n=".zoom";if(i.enabled&&e.supportsTransition){var s,o,a=i.duration,c=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,s={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return s["-webkit-"+o]=s["-moz-"+o]=s["-o-"+o]=s[o]=n,e.css(s),e},d=function(){e.content.css("visibility","visible")};T("BuildControls"+n,(function(){if(e._allowZoom()){if(clearTimeout(s),e.content.css("visibility","hidden"),!(t=e._getItemToZoom()))return void d();(o=c(t)).css(e._getOffset()),e.wrap.append(o),s=setTimeout((function(){o.css(e._getOffset(!0)),s=setTimeout((function(){d(),setTimeout((function(){o.remove(),t=o=null,E("ZoomAnimationEnded")}),16)}),a)}),16)}})),T(l+n,(function(){if(e._allowZoom()){if(clearTimeout(s),e.st.removalDelay=a,!t){if(!(t=e._getItemToZoom()))return;o=c(t)}o.css(e._getOffset(!0)),e.wrap.append(o),e.content.css("visibility","hidden"),setTimeout((function(){o.css(e._getOffset())}),16)}})),T(r+n,(function(){e._allowZoom()&&(d(),o&&o.remove(),t=null)}))}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(i){var n,s=(n=i?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem)).offset(),o=parseInt(n.css("padding-top"),10),a=parseInt(n.css("padding-bottom"),10);s.top-=t(window).scrollTop()-o;var r={width:n.width(),height:(x?n.innerHeight():n[0].offsetHeight)-a-o};return D()?r["-moz-transform"]=r.transform="translate("+s.left+"px,"+s.top+"px)":(r.left=s.left,r.top=s.top),r}}});var H="iframe",z="//about:blank",G=function(t){if(e.currTemplate[H]){var i=e.currTemplate[H].find("iframe");i.length&&(t||(i[0].src=z),e.isIE8&&i.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(H,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(H),T("BeforeChange",(function(t,e,i){e!==i&&(e===H?G():i===H&&G(!0))})),T(r+"."+H,(function(){G()}))},getIframe:function(i,n){var s=i.src,o=e.st.iframe;t.each(o.patterns,(function(){if(s.indexOf(this.index)>-1)return this.id&&(s="string"==typeof this.id?s.substr(s.lastIndexOf(this.id)+this.id.length,s.length):this.id.call(this,s)),s=this.src.replace("%id%",s),!1}));var a={};return o.srcAction&&(a[o.srcAction]=s),e._parseMarkup(n,a,i),e.updateStatus("ready"),n}}});var X=function(t){var i=e.items.length;return t>i-1?t-i:t<0?i+t:t},j=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=e.st.gallery,s=".mfp-gallery";if(e.direction=!0,!i||!i.enabled)return!1;o+=" mfp-gallery",T(p+s,(function(){i.navigateByImgClick&&e.wrap.on("click"+s,".mfp-img",(function(){if(e.items.length>1)return e.next(),!1})),n.on("keydown"+s,(function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()}))})),T("UpdateStatus"+s,(function(t,i){i.text&&(i.text=j(i.text,e.currItem.index,e.items.length))})),T(u+s,(function(t,n,s,o){var a=e.items.length;s.counter=a>1?j(i.tCounter,o.index,a):""})),T("BuildControls"+s,(function(){if(e.items.length>1&&i.arrows&&!e.arrowLeft){var n=i.arrowMarkup,s=e.arrowLeft=t(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(v),o=e.arrowRight=t(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(v);s.click((function(){e.prev()})),o.click((function(){e.next()})),e.container.append(s.add(o))}})),T(h+s,(function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout((function(){e.preloadNearbyImages(),e._preloadTimeout=null}),16)})),T(r+s,(function(){n.off(s),e.wrap.off("click"+s),e.arrowRight=e.arrowLeft=null}))},next:function(){e.direction=!0,e.index=X(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=X(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,i=e.st.gallery.preload,n=Math.min(i[0],e.items.length),s=Math.min(i[1],e.items.length);for(t=1;t<=(e.direction?s:n);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?n:s);t++)e._preloadItem(e.index-t)},_preloadItem:function(i){if(i=X(i),!e.items[i].preloaded){var n=e.items[i];n.parsed||(n=e.parseEl(i)),E("LazyLoad",n),"image"===n.type&&(n.img=t('<img class="mfp-img" />').on("load.mfploader",(function(){n.hasSize=!0})).on("error.mfploader",(function(){n.hasSize=!0,n.loadError=!0,E("LazyLoadError",n)})).attr("src",n.src)),n.preloaded=!0}}}});var W="retina";t.magnificPopup.registerModule(W,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,(function(t){return"@2x"+t}))},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,i=t.ratio;(i=isNaN(i)?i():i)>1&&(T("ImageHasSize."+W,(function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})})),T("ElementParse."+W,(function(e,n){n.src=t.replaceSrc(n,i)})))}}}}),L()})?n.apply(e,s):n)||(t.exports=o)},6907:()=>{$((function(){var t=$(".to-top");$(document).height()>$(window).height()&&$(this).scrollTop()<50&&t.addClass("to-bottom").removeClass("to-top_hidden"),$(window).scroll((function(){$(this).scrollTop()>50?(t.removeClass("to-bottom"),t.addClass("to-header")):(t.addClass("to-bottom"),t.removeClass("to-header"))})),$(".to-top").click((function(t){t.preventDefault(),$(this).hasClass("to-header")?$("body,html").animate({scrollTop:0},800):$("body,html").animate({scrollTop:$(document).height()},800)}))})),$(document).ready((function(){"undefined"!=typeof wysibb_input&&$(wysibb_input).wysibb(wysibb_settings),$(".flatpickr").flatpickr({dateFormat:"d.m.Y"}),$(".flatpickr_time").flatpickr({dateFormat:"d.m.Y H:i",enableTime:!0})}))},6425:()=>{function t(){var t=$("body");t.hasClass("sidebar_opened")?(t.removeClass("sidebar_opened"),setTimeout((function(){$(".top_nav .navbar-toggle").removeClass("toggled")}),500)):(t.addClass("sidebar_opened"),setTimeout((function(){$(".top_nav .navbar-toggle").addClass("toggled")}),500))}$(document).on("click",".navbar-toggler, .show_menu_btn",(function(){t()})).on("click",".sidebar_opened .overlay",(function(){$("body").hasClass("sidebar_opened")&&t()}))},7437:()=>{$((function(){var t=$(".ajax_modal");t.on("show.bs.modal",(function(t){$(".ajax_modal .modal-content").html('<div class="text-center p-5"><div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div></div>')})),t.on("shown.bs.modal",(function(t){var e=$(t.relatedTarget).data();$.ajax({type:"POST",url:e.url,dataType:"html",data:e,success:function(t){$(".ajax_modal .modal-content").html(t)}})}))})),$(document).on("click",".select_language",(function(t){t.preventDefault();var e=$('form[name="select_language"]');$.ajax({type:"POST",url:e.attr("action"),dataType:"html",data:e.serialize(),success:function(t){$(".ajax_modal").modal("hide"),document.location.href=document.location.href}})}))},3611:(t,e,i)=>{var n,s,o=function(t){var e=/\blang(?:uage)?-([\w-]+)\b/i,i=0,n={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function(t){return t instanceof s?new s(t.type,n.util.encode(t.content),t.alias):Array.isArray(t)?t.map(n.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++i}),t.__id},clone:function t(e,i){var s,o,a=n.util.type(e);switch(i=i||{},a){case"Object":if(o=n.util.objId(e),i[o])return i[o];for(var r in s={},i[o]=s,e)e.hasOwnProperty(r)&&(s[r]=t(e[r],i));return s;case"Array":return o=n.util.objId(e),i[o]?i[o]:(s=[],i[o]=s,e.forEach((function(e,n){s[n]=t(e,i)})),s);default:return e}},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(n){var t=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(n.stack)||[])[1];if(t){var e=document.getElementsByTagName("script");for(var i in e)if(e[i].src==t)return e[i]}return null}}},languages:{extend:function(t,e){var i=n.util.clone(n.languages[t]);for(var s in e)i[s]=e[s];return i},insertBefore:function(t,e,i,s){var o=(s=s||n.languages)[t],a={};for(var r in o)if(o.hasOwnProperty(r)){if(r==e)for(var l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);i.hasOwnProperty(r)||(a[r]=o[r])}var c=s[t];return s[t]=a,n.languages.DFS(n.languages,(function(e,i){i===c&&e!=t&&(this[e]=a)})),a},DFS:function t(e,i,s,o){o=o||{};var a=n.util.objId;for(var r in e)if(e.hasOwnProperty(r)){i.call(e,r,e[r],s||r);var l=e[r],c=n.util.type(l);"Object"!==c||o[a(l)]?"Array"!==c||o[a(l)]||(o[a(l)]=!0,t(l,i,r,o)):(o[a(l)]=!0,t(l,i,null,o))}}},plugins:{},highlightAll:function(t,e){n.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,i){var s={callback:i,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",s);for(var o,a=t.querySelectorAll(s.selector),r=0;o=a[r++];)n.highlightElement(o,!0===e,s.callback)},highlightElement:function(i,s,o){var a=function(t){for(;t&&!e.test(t.className);)t=t.parentNode;return t?(t.className.match(e)||[,"none"])[1].toLowerCase():"none"}(i),r=n.languages[a];i.className=i.className.replace(e,"").replace(/\s+/g," ")+" language-"+a;var l=i.parentNode;l&&"pre"===l.nodeName.toLowerCase()&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var c={element:i,language:a,grammar:r,code:i.textContent};function d(t){c.highlightedCode=t,n.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,n.hooks.run("after-highlight",c),n.hooks.run("complete",c),o&&o.call(c.element)}if(n.hooks.run("before-sanity-check",c),!c.code)return n.hooks.run("complete",c),void(o&&o.call(c.element));if(n.hooks.run("before-highlight",c),c.grammar)if(s&&t.Worker){var u=new Worker(n.filename);u.onmessage=function(t){d(t.data)},u.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else d(n.highlight(c.code,c.grammar,c.language));else d(n.util.encode(c.code))},highlight:function(t,e,i){var o={code:t,grammar:e,language:i};return n.hooks.run("before-tokenize",o),o.tokens=n.tokenize(o.code,o.grammar),n.hooks.run("after-tokenize",o),s.stringify(n.util.encode(o.tokens),o.language)},matchGrammar:function(t,e,i,o,a,r,l){for(var c in i)if(i.hasOwnProperty(c)&&i[c]){var d=i[c];d=Array.isArray(d)?d:[d];for(var u=0;u<d.length;++u){if(l&&l==c+","+u)return;var p=d[u],h=p.inside,f=!!p.lookbehind,m=!!p.greedy,g=0,b=p.alias;if(m&&!p.pattern.global){var v=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,v+"g")}p=p.pattern||p;for(var y=o,x=a;y<e.length;x+=e[y].length,++y){var w=e[y];if(e.length>t.length)return;if(!(w instanceof s)){if(m&&y!=e.length-1){if(p.lastIndex=x,!(A=p.exec(t)))break;for(var T=A.index+(f&&A[1]?A[1].length:0),C=A.index+A[0].length,E=y,S=x,L=e.length;E<L&&(S<C||!e[E].type&&!e[E-1].greedy);++E)(S+=e[E].length)<=T&&(++y,x=S);if(e[y]instanceof s)continue;k=E-y,w=t.slice(x,S),A.index-=x}else{p.lastIndex=0;var A=p.exec(w),k=1}if(A){f&&(g=A[1]?A[1].length:0),C=(T=A.index+g)+(A=A[0].slice(g)).length;var R=w.slice(0,T),I=w.slice(C),N=[y,k];R&&(++y,x+=R.length,N.push(R));var B=new s(c,h?n.tokenize(A,h):A,b,A,m);if(N.push(B),I&&N.push(I),Array.prototype.splice.apply(e,N),1!=k&&n.matchGrammar(t,e,i,y,x,!0,c+","+u),r)break}else if(r)break}}}}},tokenize:function(t,e){var i=[t],s=e.rest;if(s){for(var o in s)e[o]=s[o];delete e.rest}return n.matchGrammar(t,i,e,0,0,!1),i},hooks:{all:{},add:function(t,e){var i=n.hooks.all;i[t]=i[t]||[],i[t].push(e)},run:function(t,e){var i=n.hooks.all[t];if(i&&i.length)for(var s,o=0;s=i[o++];)s(e)}},Token:s};function s(t,e,i,n,s){this.type=t,this.content=e,this.alias=i,this.length=0|(n||"").length,this.greedy=!!s}if(t.Prism=n,s.stringify=function(t,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map((function(t){return s.stringify(t,e)})).join("");var i={type:t.type,content:s.stringify(t.content,e),tag:"span",classes:["token",t.type],attributes:{},language:e};if(t.alias){var o=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(i.classes,o)}n.hooks.run("wrap",i);var a=Object.keys(i.attributes).map((function(t){return t+'="'+(i.attributes[t]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+(a?" "+a:"")+">"+i.content+"</"+i.tag+">"},!t.document)return t.addEventListener&&(n.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var i=JSON.parse(e.data),s=i.language,o=i.code,a=i.immediateClose;t.postMessage(n.highlight(o,n.languages[s],s)),a&&t.close()}),!1)),n;var o=n.util.currentScript();if(o&&(n.filename=o.src,o.hasAttribute("data-manual")&&(n.manual=!0)),!n.manual){var a=function(){n.manual||n.highlightAll()},r=document.readyState;"loading"===r||"interactive"===r&&o.defer?document.addEventListener("DOMContentLoaded",a):window.requestAnimationFrame?window.requestAnimationFrame(a):window.setTimeout(a,16)}return n}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});t.exports&&(t.exports=o),void 0!==i.g&&(i.g.Prism=o),o.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:(?!<!--)[^"'\]]|"[^"]*"|'[^']*'|<!--[\s\S]*?-->)*\]\s*)?>/i,greedy:!0},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(t,e){var i={};i["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[e]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var n={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};n["language-"+e]={pattern:/[\s\S]+/,inside:o.languages[e]};var s={};s[t]={pattern:RegExp("(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\s*|[\\s\\S])*?(?=<\\/__>)".replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:n},o.languages.insertBefore("markup","cdata",s)}}),o.languages.xml=o.languages.extend("markup",{}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+e.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+e.source+")*?(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var i=t.languages.markup;i&&(i.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:i.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},i.tag))}(o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/--|\+\+|\*\*=?|=>|&&|\|\||[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?[.?]?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*(?:$|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}}}),o.languages.markup&&o.languages.markup.tag.addInlined("script","javascript"),o.languages.js=o.languages.javascript,function(t){function e(t,e){return"___"+t.toUpperCase()+e+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(i,n,s,o){if(i.language===n){var a=i.tokenStack=[];i.code=i.code.replace(s,(function(t){if("function"==typeof o&&!o(t))return t;for(var s,r=a.length;-1!==i.code.indexOf(s=e(n,r));)++r;return a[r]=t,s})),i.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(i,n){if(i.language===n&&i.tokenStack){i.grammar=t.languages[n];var s=0,o=Object.keys(i.tokenStack);!function a(r){for(var l=0;l<r.length&&!(s>=o.length);l++){var c=r[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var d=o[s],u=i.tokenStack[d],p="string"==typeof c?c:c.content,h=e(n,d),f=p.indexOf(h);if(-1<f){++s;var m=p.substring(0,f),g=new t.Token(n,t.tokenize(u,i.grammar),"language-"+n,u),b=p.substring(f+h.length),v=[];m&&v.push.apply(v,a([m])),v.push(g),b&&v.push.apply(v,a([b])),"string"==typeof c?r.splice.apply(r,[l,1].concat(v)):c.content=v}}else c.content&&a(c.content)}return r}(i.tokens)}}}})}(o),function(t){t.languages.php=t.languages.extend("clike",{keyword:/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,boolean:{pattern:/\b(?:false|true)\b/i,alias:"constant"},constant:[/\b[A-Z_][A-Z0-9_]*\b/,/\b(?:null)\b/i],comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0}}),t.languages.insertBefore("php","string",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),t.languages.insertBefore("php","comment",{delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"}}),t.languages.insertBefore("php","keyword",{variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),t.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});var e={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[.+?]|->\w+)*)/,lookbehind:!0,inside:t.languages.php};t.languages.insertBefore("php","string",{"nowdoc-string":{pattern:/<<<'([^']+)'(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;/,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},"heredoc-string":{pattern:/<<<(?:"([^"]+)"(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;|([a-z_]\w*)(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\2;)/i,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:e}},"single-quoted-string":{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,alias:"string",inside:{interpolation:e}}}),delete t.languages.php.string,t.hooks.add("before-tokenize",(function(e){/<\?/.test(e.code)&&t.languages["markup-templating"].buildPlaceholders(e,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/gi)})),t.hooks.add("after-tokenize",(function(e){t.languages["markup-templating"].tokenizePlaceholders(e,"php")}))}(o),s=(n=o).languages.javadoclike={parameter:{pattern:/(^\s*(?:\/{3}|\*|\/\*\*)\s*@(?:param|arg|arguments)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^\s*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/},Object.defineProperty(s,"addSupport",{value:function(t,e){"string"==typeof t&&(t=[t]),t.forEach((function(t){!function(t,e){var i="doc-comment",s=n.languages[t];if(s){var o=s[i];if(o||(o=(s=n.languages.insertBefore(t,"comment",{"doc-comment":{pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"}}))[i]),o instanceof RegExp&&(o=s[i]={pattern:o}),Array.isArray(o))for(var a=0,r=o.length;a<r;a++)o[a]instanceof RegExp&&(o[a]={pattern:o[a]}),e(o[a]);else e(o)}}(t,(function(t){t.inside||(t.inside={}),t.inside.rest=e}))}))}}),s.addSupport(["java","javascript","php"],s),function(t){var e="(?:[a-zA-Z]\\w*|[|\\\\[\\]])+";t.languages.phpdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+e+"\\s+)?)\\$\\w+"),lookbehind:!0}}),t.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+e),lookbehind:!0,inside:{keyword:/\b(?:callback|resource|boolean|integer|double|object|string|array|false|float|mixed|bool|null|self|true|void|int)\b/,punctuation:/[|\\[\]()]/}}]}),t.languages.javadoclike.addSupport("php",t.languages.phpdoc)}(o),o.languages.insertBefore("php","variable",{this:/\$this\b/,global:/\$(?:_(?:SERVER|GET|POST|FILES|REQUEST|SESSION|ENV|COOKIE)|GLOBALS|HTTP_RAW_POST_DATA|argc|argv|php_errormsg|http_response_header)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/static|self|parent/,punctuation:/::|\\/}}}),o.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURNS?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+\.?\d*|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(){if("undefined"!=typeof self&&self.Prism&&self.document){var t="line-numbers",e=/\n(?!$)/g,i=function(t){var i=n(t)["white-space"];if("pre-wrap"===i||"pre-line"===i){var s=t.querySelector("code"),o=t.querySelector(".line-numbers-rows"),a=t.querySelector(".line-numbers-sizer"),r=s.textContent.split(e);a||((a=document.createElement("span")).className="line-numbers-sizer",s.appendChild(a)),a.style.display="block",r.forEach((function(t,e){a.textContent=t||"\n";var i=a.getBoundingClientRect().height;o.children[e].style.height=i+"px"})),a.textContent="",a.style.display="none"}},n=function(t){return t?window.getComputedStyle?getComputedStyle(t):t.currentStyle||null:null};window.addEventListener("resize",(function(){Array.prototype.forEach.call(document.querySelectorAll("pre."+t),i)})),o.hooks.add("complete",(function(t){if(t.code){var n=t.element,s=n.parentNode;if(s&&/pre/i.test(s.nodeName)&&!n.querySelector(".line-numbers-rows")){for(var a=!1,r=/(?:^|\s)line-numbers(?:\s|$)/,l=n;l;l=l.parentNode)if(r.test(l.className)){a=!0;break}if(a){n.className=n.className.replace(r," "),r.test(s.className)||(s.className+=" line-numbers");var c,d=t.code.match(e),u=d?d.length+1:1,p=new Array(u+1).join("<span></span>");(c=document.createElement("span")).setAttribute("aria-hidden","true"),c.className="line-numbers-rows",c.innerHTML=p,s.hasAttribute("data-start")&&(s.style.counterReset="linenumber "+(parseInt(s.getAttribute("data-start"),10)-1)),t.element.appendChild(c),i(s),o.hooks.run("line-numbers",t)}}}})),o.hooks.add("line-numbers",(function(t){t.plugins=t.plugins||{},t.plugins.lineNumbers=!0})),o.plugins.lineNumbers={getLine:function(e,i){if("PRE"===e.tagName&&e.classList.contains(t)){var n=e.querySelector(".line-numbers-rows"),s=parseInt(e.getAttribute("data-start"),10)||1,o=s+(n.children.length-1);i<s&&(i=s),o<i&&(i=o);var a=i-s;return n.children[a]}}}}}()},3819:()=>{$((function(){function t(t){return t/100*360}$(".rounded-progress").each((function(){var e=$(this).attr("data-value"),i=$(this).find(".progress-left .progress-bar"),n=$(this).find(".progress-right .progress-bar");e>0&&(e<=50?n.css("transform","rotate("+t(e)+"deg)"):(n.css("transform","rotate(180deg)"),i.css("transform","rotate("+t(e-50)+"deg)")))}))}))},1370:(t,e,i)=>{"use strict";i.r(e);var n=i(4612);new(i.n(n)())(".screenshots",{slidesPerView:1,spaceBetween:10,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{640:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:2,spaceBetween:40},1024:{slidesPerView:3,spaceBetween:20}}})},693:()=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}"undefined"==typeof WBBLANG&&(WBBLANG={}),WBBLANG.en=CURLANG={bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",link:"Link",img:"Insert image",sup:"Superscript",sub:"Subscript",justifyleft:"Align left",justifycenter:"Align center",justifyright:"Align right",table:"Insert table",bullist:"â€¢ Unordered list",numlist:"1. Ordered list",quote:"Quote",offtop:"Offtop",code:"Code",spoiler:"Spoiler",fontcolor:"Font color",fontsize:"Font size",fontfamily:"Font family",fs_verysmall:"Very small",fs_small:"Small",fs_normal:"Normal",fs_big:"Big",fs_verybig:"Very big",smilebox:"Insert emoticon",video:"Insert YouTube",removeFormat:"Remove Format",modal_link_title:"Insert link",modal_link_text:"Display text",modal_link_url:"URL",modal_email_text:"Display email",modal_email_url:"Email",modal_link_tab1:"Insert URL",modal_img_title:"Insert image",modal_img_tab1:"Insert URL",modal_img_tab2:"Upload image",modal_imgsrc_text:"Enter image URL",modal_img_btn:"Choose file",add_attach:"Add Attachment",modal_video_text:"Enter the URL of the video",close:"Close",save:"Save",cancel:"Cancel",remove:"Delete",validation_err:"The entered data is invalid",error_onupload:"Error during file upload",fileupload_text1:"Drop file here",fileupload_text2:"or",loading:"Loading",auto:"Auto",views:"Views",downloads:"Downloads",sm1:"Smile",sm2:"Laughter",sm3:"Wink",sm4:"Thank you",sm5:"Scold",sm6:"Shock",sm7:"Angry",sm8:"Pain",sm9:"Sick"},wbbdebug=!0,function(e){"use strict";e.wysibb=function(t,i){e(t).data("wbb",this),i&&i.deflang&&void 0!==WBBLANG[i.deflang]&&(CURLANG=WBBLANG[i.deflang]),i&&i.lang&&void 0!==WBBLANG[i.lang]&&(CURLANG=WBBLANG[i.lang]),this.txtArea=t,this.$txtArea=e(t);this.$txtArea.attr("id")||this.setUID(this.txtArea);this.options={bbmode:!1,onlyBBmode:!1,themeName:"default",bodyClass:"",lang:"ru",tabInsert:!0,imgupload:!1,img_uploadurl:"/iupload.php",img_maxwidth:800,img_maxheight:800,hotkeys:!0,showHotkeys:!0,autoresize:!0,resize_maxheight:800,loadPageStyles:!0,traceTextarea:!0,smileConversion:!0,buttons:"bold,italic,underline,strike,sup,sub,|,img,video,link,|,bullist,numlist,|,fontcolor,fontsize,fontfamily,|,justifyleft,justifycenter,justifyright,|,quote,code,table,removeFormat",allButtons:{bold:{title:CURLANG.bold,buttonHTML:'<span class="fonticon ve-tlb-bold1">î€˜</span>',excmd:"bold",hotkey:"ctrl+b",transform:{"<b>{SELTEXT}</b>":"[b]{SELTEXT}[/b]","<strong>{SELTEXT}</strong>":"[b]{SELTEXT}[/b]"}},italic:{title:CURLANG.italic,buttonHTML:'<span class="fonticon ve-tlb-italic1">î€</span>',excmd:"italic",hotkey:"ctrl+i",transform:{"<i>{SELTEXT}</i>":"[i]{SELTEXT}[/i]","<em>{SELTEXT}</em>":"[i]{SELTEXT}[/i]"}},underline:{title:CURLANG.underline,buttonHTML:'<span class="fonticon ve-tlb-underline1">î€‚</span>',excmd:"underline",hotkey:"ctrl+u",transform:{"<u>{SELTEXT}</u>":"[u]{SELTEXT}[/u]"}},strike:{title:CURLANG.strike,buttonHTML:'<span class="fonticon fi-stroke1 ve-tlb-strike1">î€ƒ</span>',excmd:"strikeThrough",transform:{"<strike>{SELTEXT}</strike>":"[s]{SELTEXT}[/s]","<s>{SELTEXT}</s>":"[s]{SELTEXT}[/s]"}},sup:{title:CURLANG.sup,buttonHTML:'<span class="fonticon ve-tlb-sup1">î€…</span>',excmd:"superscript",transform:{"<sup>{SELTEXT}</sup>":"[sup]{SELTEXT}[/sup]"}},sub:{title:CURLANG.sub,buttonHTML:'<span class="fonticon ve-tlb-sub1">î€„</span>',excmd:"subscript",transform:{"<sub>{SELTEXT}</sub>":"[sub]{SELTEXT}[/sub]"}},link:{title:CURLANG.link,buttonHTML:'<span class="fonticon ve-tlb-link1">î€‡</span>',hotkey:"ctrl+shift+2",modal:{title:CURLANG.modal_link_title,width:"500px",tabs:[{input:[{param:"SELTEXT",title:CURLANG.modal_link_text,type:"div"},{param:"URL",title:CURLANG.modal_link_url,validation:"^http(s)?://"}]}]},transform:{'<a href="{URL}">{SELTEXT}</a>':"[url={URL}]{SELTEXT}[/url]",'<a href="{URL}">{URL}</a>':"[url]{URL}[/url]"}},img:{title:CURLANG.img,buttonHTML:'<span class="fonticon ve-tlb-img1">î€†</span>',hotkey:"ctrl+shift+1",addWrap:!0,modal:{title:CURLANG.modal_img_title,width:"600px",tabs:[{title:CURLANG.modal_img_tab1,input:[{param:"SRC",title:CURLANG.modal_imgsrc_text,validation:"^http(s)?://.*?.(jpg|png|gif|jpeg)$"}]}],onLoad:this.imgLoadModal},transform:{'<img src="{SRC}" />':"[img]{SRC}[/img]",'<img src="{SRC}" width="{WIDTH}" height="{HEIGHT}"/>':"[img width={WIDTH},height={HEIGHT}]{SRC}[/img]"}},bullist:{title:CURLANG.bullist,buttonHTML:'<span class="fonticon ve-tlb-list1">î€‰</span>',excmd:"insertUnorderedList",transform:{"<ul>{SELTEXT}</ul>":"[list]{SELTEXT}[/list]","<li>{SELTEXT}</li>":"[*]{SELTEXT}[/*]"}},numlist:{title:CURLANG.numlist,buttonHTML:'<span class="fonticon ve-tlb-numlist1">î€Š</span>',excmd:"insertOrderedList",transform:{"<ol>{SELTEXT}</ol>":"[list=1]{SELTEXT}[/list]","<li>{SELTEXT}</li>":"[*]{SELTEXT}[/*]"}},quote:{title:CURLANG.quote,buttonHTML:'<span class="fonticon ve-tlb-quote1">î€Œ</span>',hotkey:"ctrl+shift+3",transform:{'<blockquote class="blockquote post-quote p-2 bg-light border rounded d-inline-block">{SELTEXT}</blockquote>':"[quote]{SELTEXT}[/quote]"}},code:{title:CURLANG.code,buttonText:"[code]",hotkey:"ctrl+shift+4",onlyClearText:!0,transform:{"<code>{SELTEXT}</code>":"[code=php]{SELTEXT}[/code]"}},offtop:{title:CURLANG.offtop,buttonText:"offtop",transform:{'<span style="font-size:10px;color:#ccc">{SELTEXT}</span>':"[offtop]{SELTEXT}[/offtop]"}},fontcolor:{type:"colorpicker",title:CURLANG.fontcolor,excmd:"foreColor",valueBBname:"color",subInsert:!0,colors:"#000000,#444444,#666666,#999999,#b6b6b6,#cccccc,#d8d8d8,#efefef,#f4f4f4,#ffffff,-, \t\t\t\t\t\t\t #ff0000,#980000,#ff7700,#ffff00,#00ff00,#00ffff,#1e84cc,#0000ff,#9900ff,#ff00ff,-, \t\t\t\t\t\t\t #f4cccc,#dbb0a7,#fce5cd,#fff2cc,#d9ead3,#d0e0e3,#c9daf8,#cfe2f3,#d9d2e9,#ead1dc, \t\t\t\t\t\t\t #ea9999,#dd7e6b,#f9cb9c,#ffe599,#b6d7a8,#a2c4c9,#a4c2f4,#9fc5e8,#b4a7d6,#d5a6bd, \t\t\t\t\t\t\t #e06666,#cc4125,#f6b26b,#ffd966,#93c47d,#76a5af,#6d9eeb,#6fa8dc,#8e7cc3,#c27ba0, \t\t\t\t\t\t\t #cc0000,#a61c00,#e69138,#f1c232,#6aa84f,#45818e,#3c78d8,#3d85c6,#674ea7,#a64d79, \t\t\t\t\t\t\t #900000,#85200C,#B45F06,#BF9000,#38761D,#134F5C,#1155Cc,#0B5394,#351C75,#741B47, \t\t\t\t\t\t\t #660000,#5B0F00,#783F04,#7F6000,#274E13,#0C343D,#1C4587,#073763,#20124D,#4C1130",transform:{'<font color="{COLOR}">{SELTEXT}</font>':"[color={COLOR}]{SELTEXT}[/color]"}},table:{type:"table",title:CURLANG.table,cols:10,rows:10,cellwidth:20,transform:{"<td>{SELTEXT}</td>":"[td]{SELTEXT}[/td]","<tr>{SELTEXT}</tr>":"[tr]{SELTEXT}[/tr]",'<table class="wbb-table">{SELTEXT}</table>':"[table]{SELTEXT}[/table]"},skipRules:!0},fontsize:{type:"select",title:CURLANG.fontsize,options:"fs_verysmall,fs_small,fs_normal,fs_big,fs_verybig"},fontfamily:{type:"select",title:CURLANG.fontfamily,excmd:"fontName",valueBBname:"font",options:[{title:"Arial",exvalue:"Arial"},{title:"Comic Sans MS",exvalue:"Comic Sans MS"},{title:"Courier New",exvalue:"Courier New"},{title:"Georgia",exvalue:"Georgia"},{title:"Lucida Sans Unicode",exvalue:"Lucida Sans Unicode"},{title:"Tahoma",exvalue:"Tahoma"},{title:"Times New Roman",exvalue:"Times New Roman"},{title:"Trebuchet MS",exvalue:"Trebuchet MS"},{title:"Verdana",exvalue:"Verdana"}],transform:{'<font face="{FONT}">{SELTEXT}</font>':"[font={FONT}]{SELTEXT}[/font]"}},smilebox:{type:"smilebox",title:CURLANG.smilebox,buttonHTML:'<span class="fonticon ve-tlb-smilebox1">î€‹</span>'},justifyleft:{title:CURLANG.justifyleft,buttonHTML:'<span class="fonticon ve-tlb-textleft1">î€•</span>',groupkey:"align",transform:{'<p style="text-align:left">{SELTEXT}</p>':"[left]{SELTEXT}[/left]"}},justifyright:{title:CURLANG.justifyright,buttonHTML:'<span class="fonticon ve-tlb-textright1">î€–</span>',groupkey:"align",transform:{'<p style="text-align:right">{SELTEXT}</p>':"[right]{SELTEXT}[/right]"}},justifycenter:{title:CURLANG.justifycenter,buttonHTML:'<span class="fonticon ve-tlb-textcenter1">î€”</span>',groupkey:"align",transform:{'<p style="text-align:center">{SELTEXT}</p>':"[center]{SELTEXT}[/center]"}},video:{title:CURLANG.video,buttonHTML:'<span class="fonticon ve-tlb-video1">î€ˆ</span>',modal:{title:CURLANG.video,width:"600px",tabs:[{title:CURLANG.video,input:[{param:"SRC",title:CURLANG.modal_video_text}]}],onSubmit:function(t,e,i){var n,s=this.$modal.find('input[name="SRC"]').val();if(s&&(s=s.replace(/^\s+/,"").replace(/\s+$/,"")),(n=-1!=s.indexOf("youtu.be")?s.match(/^http[s]*:\/\/youtu\.be\/([a-z0-9_-]+)/i):s.match(/^http[s]*:\/\/www\.youtube\.com\/watch\?.*?v=([a-z0-9_-]+)/i))&&2==n.length){var o=n[1];this.insertAtCursor(this.getCodeByCommand(t,{src:o}))}return this.closeModal(),this.updateUI(),!1}},transform:{'<div style="max-width: 600px"><div class="embed-responsive embed-responsive-16by9"><iframe src="http://www.youtube.com/embed/{SRC}" frameborder="0"></iframe></div></div>':"[youtube]https://www.youtube.com/watch?v={SRC}[/youtube]"}},fs_verysmall:{title:CURLANG.fs_verysmall,buttonText:"fs1",excmd:"fontSize",exvalue:"1",transform:{'<font size="1">{SELTEXT}</font>':"[size=50]{SELTEXT}[/size]"}},fs_small:{title:CURLANG.fs_small,buttonText:"fs2",excmd:"fontSize",exvalue:"2",transform:{'<font size="2">{SELTEXT}</font>':"[size=85]{SELTEXT}[/size]"}},fs_normal:{title:CURLANG.fs_normal,buttonText:"fs3",excmd:"fontSize",exvalue:"3",transform:{'<font size="3">{SELTEXT}</font>':"[size=100]{SELTEXT}[/size]"}},fs_big:{title:CURLANG.fs_big,buttonText:"fs4",excmd:"fontSize",exvalue:"4",transform:{'<font size="4">{SELTEXT}</font>':"[size=150]{SELTEXT}[/size]"}},fs_verybig:{title:CURLANG.fs_verybig,buttonText:"fs5",excmd:"fontSize",exvalue:"6",transform:{'<font size="6">{SELTEXT}</font>':"[size=200]{SELTEXT}[/size]"}},removeformat:{title:CURLANG.removeFormat,buttonHTML:'<span class="fonticon ve-tlb-removeformat1">î€</span>',excmd:"removeFormat"}},systr:{"<br/>":"\n",'<span class="wbbtab">{SELTEXT}</span>':"   {SELTEXT}"},customRules:{td:[["[td]{SELTEXT}[/td]",{seltext:{rgx:!1,attr:!1,sel:!1}}]],tr:[["[tr]{SELTEXT}[/tr]",{seltext:{rgx:!1,attr:!1,sel:!1}}]],table:[["[table]{SELTEXT}[/table]",{seltext:{rgx:!1,attr:!1,sel:!1}}]]},smileList:[],attrWrap:["src","color","href"]},this.inited=this.options.onlyBBmode,this.options.themePrefix||e("link").each(e.proxy((function(t,i){var n=e(i).get(0).href.match(/(.*\/)(.*)\/wbbtheme\.css.*$/);null!==n&&(this.options.themeName=n[2],this.options.themePrefix=n[1])}),this)),"undefined"!=typeof WBBPRESET&&(WBBPRESET.allButtons&&e.each(WBBPRESET.allButtons,e.proxy((function(t,e){e.transform&&this.options.allButtons[t]&&delete this.options.allButtons[t].transform}),this)),e.extend(!0,this.options,WBBPRESET)),i&&i.allButtons&&e.each(i.allButtons,e.proxy((function(t,e){e.transform&&this.options.allButtons[t]&&delete this.options.allButtons[t].transform}),this)),e.extend(!0,this.options,i),this.init()},e.wysibb.prototype={lastid:1,init:function(){var t;e.log("Init",this),this.isMobile=(t=navigator.userAgent||navigator.vendor||window.opera,void/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)),!0===this.options.onlyBBmode&&(this.options.bbmode=!0),this.controllers=[],this.options.buttons=this.options.buttons.toLowerCase(),this.options.buttons=this.options.buttons.split(","),this.options.allButtons._systr={},this.options.allButtons._systr.transform=this.options.systr,this.smileFind(),this.initTransforms(),this.build(),this.initModal(),!0!==this.options.hotkeys||this.isMobile||this.initHotkeys(),this.options.smileList&&this.options.smileList.length>0&&this.options.smileList.sort((function(t,e){return e.bbcode.length-t.bbcode.length})),this.$txtArea.parents("form").bind("submit",e.proxy((function(){return this.sync(),!0}),this)),this.$txtArea.parents("form").find("input[id*='preview'],input[id*='submit'],input[class*='preview'],input[class*='submit'],input[name*='preview'],input[name*='submit']").bind("mousedown",e.proxy((function(){this.sync(),setTimeout(e.proxy((function(){!1===this.options.bbmode&&this.$txtArea.removeAttr("wbbsync").val("")}),this),1e3)}),this)),this.options.initCallback&&this.options.initCallback.call(this),e.log(this)},initTransforms:function(){e.log("Create rules for transform HTML=>BB");var t=this.options;t.rules||(t.rules={}),t.groups||(t.groups={});var i=t.buttons.slice();i.push("_systr");for(var n=0;n<i.length;n++){var s=t.allButtons[i[n]];if(s){if(s.en=!0,s.simplebbcode&&e.isArray(s.simplebbcode)&&2==s.simplebbcode.length&&(s.bbcode=s.html=s.simplebbcode[0]+"{SELTEXT}"+s.simplebbcode[1],s.transform&&delete s.transform,s.modal&&delete s.modal),"select"==s.type&&"string"==typeof s.options){var o=s.options.split(",");e.each(o,(function(t,n){-1==e.inArray(n,i)&&i.push(n)}))}if(s.transform&&!0!==s.skipRules){var a=e.extend({},s.transform);for(var r in a){var l=r,c=a[r];if(s.bbSelector||(s.bbSelector=[]),-1==e.inArray(c,s.bbSelector)&&s.bbSelector.push(c),!1===this.options.onlyBBmode){r=this.wrapAttrs(r);var d=e(document.createElement("DIV")).append(e(this.elFromString(r,document))),u=this.filterByNode(d.children());if("div"==u||void 0!==t.rules[u]){e.log("create unique selector: "+u),this.setUID(d.children()),u=this.filterByNode(d.children()),e.log("New rootSelector: "+u);var p=d.html();p=this.unwrapAttrs(p);var h=this.unwrapAttrs(r);s.transform[p]=c,delete s.transform[h],r=p,l=p}s.excmd||(s.rootSelector||(s.rootSelector=[]),s.rootSelector.push(u)),void 0===t.rules[u]&&(t.rules[u]=[]);var f={};if(r.match(/\{\S+?\}/)){d.find("*").each(e.proxy((function(t,i){var n=this.getAttributeList(i);e.each(n,e.proxy((function(t,n){var s=e(i).attr(n);"_"==n.substr(0,1)&&(n=n.substr(1));var o=s.match(/\{\S+?\}/g);if(o)for(var a=0;a<o.length;a++){var r=o[a].substr(1,o[a].length-2);r=r.replace(this.getValidationRGX(r),"");var l=this.relFilterByNode(i,u),c=s!=o[a]&&this.getRegexpReplace(s,o[a]);f[r.toLowerCase()]={sel:!!l&&e.trim(l),attr:n,rgx:c}}}),this));var s=[];e(i).is("iframe")||e(i).contents().filter((function(){return 3===this.nodeType})).each(e.proxy((function(t,n){var o=n.textContent||n.data;if(void 0===o)return!0;var a=o.match(/\{\S+?\}/g);if(a)for(var r=0;r<a.length;r++){var l=a[r].substr(1,a[r].length-2);l=l.replace(this.getValidationRGX(l),"");var c=this.relFilterByNode(i,u),d=o!=a[r]&&this.getRegexpReplace(o,a[r]),p=!!c&&e.trim(c);if(e.inArray(p,s)>-1||e(n).parent().contents().length>1){var h=e("<span>").html("{"+l+"}");this.setUID(h,"wbb");var m=o.indexOf(l)+l.length+1,g=o.substr(m,o.length-m);n.data=o.substr(0,o.indexOf(l)-1),e(n).after(this.elFromString(g,document)).after(h),p=(p?p+" ":"")+this.filterByNode(h),d=!1}f[l.toLowerCase()]={sel:p,attr:!1,rgx:d},s[s.length]=p}}),this)),s=null}),this));var m=d.html();l!=(m=this.unwrapAttrs(m))&&(delete s.transform[l],s.transform[m]=c,r=m)}t.rules[u].push([c,f]),!0===s.onlyClearText&&(this.cleartext||(this.cleartext={}),this.cleartext[u]=i[n]),s.groupkey&&(t.groups[s.groupkey]||(t.groups[s.groupkey]=[]),t.groups[s.groupkey].push(u))}}s.rootSelector&&this.sortArray(s.rootSelector,-1);var g=e.map(s.transform,(function(t,e){return e})).sort((function(t,e){return(e[0]||"").length-(t[0]||"").length}));s.bbcode=s.transform[g[0]],s.html=g[0]}}}for(var b in this.options.btnlist=i,e.extend(t.rules,this.options.customRules),t.srules={},this.options.smileList&&e.each(t.smileList,e.proxy((function(i,n){var s=e(this.strf(n.img,t)),o=this.filterByNode(s);t.srules[o]=[n.bbcode,n.img]}),this)),t.rules)this.options.rules[b].sort((function(t,e){return e[0].length-t[0].length}));for(var b in this.rsellist=[],this.options.rules)this.rsellist.push(b);this.sortArray(this.rsellist,-1)},build:function(){if(e.log("Build editor"),this.$editor=e("<div>").addClass("wysibb"),this.isMobile&&this.$editor.addClass("wysibb-mobile"),this.options.direction&&this.$editor.css("direction",this.options.direction),this.$editor.insertAfter(this.txtArea).append(this.txtArea),this.startHeight=this.$txtArea.outerHeight(),this.$txtArea.addClass("wysibb-texarea"),this.buildToolbar(),this.$txtArea.wrap('<div class="wysibb-text">'),!1===this.options.onlyBBmode){var t=this.options.minheight||this.$txtArea.outerHeight(),i=(this.options.resize_maxheight,!0===this.options.autoresize?this.options.resize_maxheight:t);if(this.$body=e(this.strf('<div class="wysibb-text-editor" style="max-height:{maxheight}px;min-height:{height}px"></div>',{maxheight:i,height:t})).insertAfter(this.$txtArea),this.body=this.$body[0],this.$txtArea.hide(),t>32&&this.$toolbar.css("max-height",t),e.log("WysiBB loaded"),this.$body.addClass("wysibb-body").addClass(this.options.bodyClass),this.options.direction&&this.$body.css("direction",this.options.direction),"contentEditable"in this.body){this.body.contentEditable=!0;try{document.execCommand("StyleWithCSS",!1,!1),this.$body.append("<span></span>")}catch(t){}}else this.options.onlyBBmode=this.options.bbmode=!0;this.txtArea.value.length>0&&this.txtAreaInitContent(),this.$body.bind("keydown",e.proxy((function(t){if(86==t.which&&(1==t.ctrlKey||1==t.metaKey)||45==t.which&&(1==t.shiftKey||1==t.metaKey))return this.$pasteBlock||(this.saveRange(),this.$pasteBlock=e(this.elFromString('<div style="opacity:0;" contenteditable="true">\ufeff</div>')),this.$pasteBlock.appendTo(this.body),setTimeout(e.proxy((function(){this.clearPaste(this.$pasteBlock);var t="<span>"+this.$pasteBlock.html()+"</span>";this.$body.attr("contentEditable","true"),this.$pasteBlock.blur().remove(),this.body.focus(),this.cleartext&&(e.log("Check if paste to clearText Block"),this.isInClearTextBlock()&&(t=this.toBB(t).replace(/\n/g,"<br/>").replace(/\s{3}/g,'<span class="wbbtab"></span>'))),t=t.replace(/\t/g,'<span class="wbbtab"></span>'),this.selectRange(this.lastRange),this.insertAtCursor(t,!1),this.lastRange=!1,this.$pasteBlock=!1}),this),1),this.selectNode(this.$pasteBlock[0])),!0}),this)),this.$body.bind("keydown",e.proxy((function(t){13==t.which&&(this.isContain(this.getSelectNode(),"li")||(t.preventDefault&&t.preventDefault(),this.checkForLastBR(this.getSelectNode()),this.insertAtCursor("<br/>",!1)))}),this)),!0===this.options.tabInsert&&this.$body.bind("keydown",e.proxy(this.pressTab,this)),this.$body.bind("mouseup keyup",e.proxy(this.updateUI,this)),this.$body.bind("mousedown",e.proxy((function(t){this.clearLastRange(),this.checkForLastBR(t.target)}),this)),!0===this.options.traceTextarea&&(e(document).bind("mousedown",e.proxy(this.traceTextareaEvent,this)),this.$txtArea.val("")),!0===this.options.hotkeys&&this.$body.bind("keydown",e.proxy(this.presskey,this)),!0===this.options.smileConversion&&this.$body.bind("keyup",e.proxy(this.smileConversion,this)),this.inited=!0,!0===this.options.autoresize&&(this.$bresize=e(this.elFromString('<div class="bottom-resize-line"></div>')).appendTo(this.$editor).wdrag({scope:this,axisY:!0,height:t})),this.imgListeners()}this.$txtArea.bind("mouseup keyup",e.proxy((function(){clearTimeout(this.uitimer),this.uitimer=setTimeout(e.proxy(this.updateUI,this),100)}),this)),!0===this.options.hotkeys&&e(document).bind("keydown",e.proxy(this.presskey,this))},buildToolbar:function(){if(!1===this.options.toolbar)return!1;var t;this.$toolbar=e("<div>").addClass("wysibb-toolbar").prependTo(this.$editor),e.each(this.options.buttons,e.proxy((function(i,n){var s=this.options.allButtons[n];0!=i&&"|"!=n&&"-"!=n||("-"==n&&this.$toolbar.append("<div>"),t=e('<div class="wysibb-toolbar-container">').appendTo(this.$toolbar)),s&&("colorpicker"==s.type?this.buildColorpicker(t,n,s):"table"==s.type?this.buildTablepicker(t,n,s):"select"==s.type?this.buildSelect(t,n,s):"smilebox"==s.type?this.buildSmilebox(t,n,s):this.buildButton(t,n,s))}),this)),this.$toolbar.find(".btn-tooltip").hover((function(){e(this).parent().css("overflow","hidden")}),(function(){e(this).parent().css("overflow","visible")}));var i=e(document.createElement("div")).addClass("wysibb-toolbar-container modeSwitch").html('<div class="wysibb-toolbar-btn mswitch" unselectable="on"><span class="btn-inner modesw" unselectable="on">[bbcode]</span></div>').appendTo(this.$toolbar);1==this.options.bbmode&&i.children(".wysibb-toolbar-btn").addClass("on"),!1===this.options.onlyBBmode&&i.children(".wysibb-toolbar-btn").click(e.proxy((function(t){e(t.currentTarget).toggleClass("on"),this.modeSwitch()}),this))},buildButton:function(i,n,s){"object"!=t(i)&&(i=this.$toolbar);var o=s.buttonHTML?e(this.strf(s.buttonHTML,this.options)).addClass("btn-inner"):this.strf('<span class="btn-inner btn-text">{text}</span>',{text:s.buttonText.replace(/</g,"&lt;")}),a=!0===this.options.hotkeys&&!0===this.options.showHotkeys&&s.hotkey?' <span class="tthotkey">['+s.hotkey+"]</span>":"",r=e('<div class="wysibb-toolbar-btn wbb-'+n+'">').appendTo(i).append(o).append(this.strf('<span class="btn-tooltip">{title}<ins/>{hotkey}</span>',{title:s.title,hotkey:a}));this.controllers.push(r),r.bind("queryState",e.proxy((function(t){this.queryState(n)?e(t.currentTarget).addClass("on"):e(t.currentTarget).removeClass("on")}),this)),r.mousedown(e.proxy((function(t){t.preventDefault(),this.execCommand(n,s.exvalue||!1),e(t.currentTarget).trigger("queryState")}),this))},buildColorpicker:function(t,i,n){var s=e('<div class="wysibb-toolbar-btn wbb-dropdown wbb-cp">').appendTo(t).append('<div class="ve-tlb-colorpick"><span class="fonticon">î€</span><span class="cp-line"></span></div><ins class="fonticon ar">î€‘</ins>').append(this.strf('<span class="btn-tooltip">{title}<ins/></span>',{title:n.title})),o=s.find(".cp-line"),a=e('<div class="wbb-list">').appendTo(s);a.append('<div class="nc">'+CURLANG.auto+"</div>");for(var r=n.colors?n.colors.split(","):[],l=0;l<r.length;l++)r[l]=e.trim(r[l]),"-"==r[l]?a.append('<span class="pl"></span>'):a.append(this.strf('<div class="sc" style="background:{color}" title="{color}"></div>',{color:r[l]}));var c=e(document.body).css("color");this.controllers.push(s),s.bind("queryState",e.proxy((function(t){o.css("background-color",c);var e=this.queryState(i,!0);e&&(o.css("background-color",this.options.bbmode?e.color:e),s.find(".ve-tlb-colorpick span.fonticon").css("color",this.options.bbmode?e.color:e))}),this)),s.mousedown(e.proxy((function(t){t.preventDefault(),this.dropdownclick(".wbb-cp",".wbb-list",t)}),this)),s.find(".sc").mousedown(e.proxy((function(t){t.preventDefault(),this.selectLastRange();var n=e(t.currentTarget).attr("title");this.execCommand(i,n),s.trigger("queryState")}),this)),s.find(".nc").mousedown(e.proxy((function(t){t.preventDefault(),this.selectLastRange(),this.execCommand(i,c),s.trigger("queryState")}),this)),s.mousedown((function(t){t.preventDefault&&t.preventDefault()}))},buildTablepicker:function(t,i,n){var s=e('<div class="wysibb-toolbar-btn wbb-dropdown wbb-tbl">').appendTo(t).append('<span class="btn-inner fonticon ve-tlb-table1">î€Ž</span><ins class="fonticon ar">î€‘</ins>').append(this.strf('<span class="btn-tooltip">{title}<ins/></span>',{title:n.title})),o=e('<div class="wbb-list">').appendTo(s),a=e("<div>").css({position:"relative","box-sizing":"border-box"}).appendTo(o),r=n.rows||10,l=n.cols||10,c=r*l;a.css("height",r*n.cellwidth+2+"px");for(var d=1;d<=l;d++)for(var u=1;u<=r;u++){var p='<div class="tbl-sel" style="width:'+100*d/l+"%;height:"+100*u/r+"%;z-index:"+--c+'" title="'+u+","+d+'"></div>';a.append(p)}s.find(".tbl-sel").mousedown(e.proxy((function(t){t.preventDefault();for(var i=e(t.currentTarget).attr("title").split(","),n=this.options.bbmode?"[table]":'<table class="wbb-table" cellspacing="5" cellpadding="0">',s=1;s<=i[0];s++){n+=this.options.bbmode?" [tr]\n":"<tr>";for(var o=1;o<=i[1];o++)n+=this.options.bbmode?"  [td][/td]\n":"<td>\ufeff</td>";n+=this.options.bbmode?"[/tr]\n":"</tr>"}n+=this.options.bbmode?"[/table]":"</table>",this.insertAtCursor(n)}),this)),s.mousedown(e.proxy((function(t){t.preventDefault(),this.dropdownclick(".wbb-tbl",".wbb-list",t)}),this))},buildSelect:function(t,i,n){for(var s=e('<div class="wysibb-toolbar-btn wbb-select wbb-'+i+'">').appendTo(t).append(this.strf('<span class="val">{title}</span><ins class="fonticon sar">î€’</ins>',n)).append(this.strf('<span class="btn-tooltip">{title}<ins/></span>',{title:n.title})),o=e('<div class="wbb-list">').appendTo(s),a=s.find("span.val"),r=e.isArray(n.options)?n.options:n.options.split(","),l=this.isMobile?e("<select>").addClass("wbb-selectbox"):"",c=0;c<r.length;c++){var d=r[c];if("string"==typeof d){var u=this.options.allButtons[d];u&&(u.html?e("<span>").addClass("option").attr("oid",d).attr("cmdvalue",u.exvalue).appendTo(o).append(this.strf(u.html,{seltext:u.title})):o.append(this.strf('<span class="option" oid="'+d+'" cmdvalue="'+u.exvalue+'">{title}</span>',u)),this.isMobile&&l.append(e("<option>").attr("oid",d).attr("cmdvalue",u.exvalue).append(u.title)))}else{var p={seltext:d.title};p[n.valueBBname]=d.exvalue,e("<span>").addClass("option").attr("oid",i).attr("cmdvalue",d.exvalue).appendTo(o).append(this.strf(n.html,p)),this.isMobile&&l.append(e("<option>").attr("oid",i).attr("cmdvalue",d.exvalue).append(d.exvalue))}}this.isMobile&&(l.appendTo(t),this.controllers.push(l),l.bind("queryState",e.proxy((function(t){l.find("option").each(e.proxy((function(t,i){var n=e(i),s=this.queryState(n.attr("oid"),!0),o=n.attr("cmdvalue");if(o&&s==n.attr("cmdvalue")||!o&&s)return n.prop("selected",!0),!1}),this))}),this)),l.change(e.proxy((function(t){t.preventDefault();var i=e(t.currentTarget).find(":selected"),n=i.attr("oid"),s=i.attr("cmdvalue"),o=this.options.allButtons[n];this.execCommand(n,o.exvalue||s||!1),e(t.currentTarget).trigger("queryState")}),this))),this.controllers.push(s),s.bind("queryState",e.proxy((function(t){a.text(n.title),s.find(".option.selected").removeClass("selected"),s.find(".option").each(e.proxy((function(t,i){var n=e(i),s=this.queryState(n.attr("oid"),!0),o=n.attr("cmdvalue");if(o&&s==n.attr("cmdvalue")||!o&&s)return a.text(n.text()),n.addClass("selected"),!1}),this))}),this)),s.mousedown(e.proxy((function(t){t.preventDefault(),this.dropdownclick(".wbb-select",".wbb-list",t)}),this)),s.find(".option").mousedown(e.proxy((function(t){t.preventDefault();var i=e(t.currentTarget).attr("oid"),n=e(t.currentTarget).attr("cmdvalue"),s=this.options.allButtons[i];this.execCommand(i,s.exvalue||n||!1),e(t.currentTarget).trigger("queryState")}),this))},buildSmilebox:function(t,i,n){if(this.options.smileList&&this.options.smileList.length>0){var s=e(this.strf(n.buttonHTML,n)).addClass("btn-inner"),o=e('<div class="wysibb-toolbar-btn wbb-smilebox wbb-'+i+'">').appendTo(t).append(s).append(this.strf('<span class="btn-tooltip">{title}<ins/></span>',{title:n.title})),a=e('<div class="wbb-list">').appendTo(o);e.isArray(this.options.smileList)&&e.each(this.options.smileList,e.proxy((function(t,i){e("<span>").addClass("smile").appendTo(a).append(e(this.strf(i.img,this.options)).attr("title",i.title))}),this)),o.mousedown(e.proxy((function(t){t.preventDefault(),this.dropdownclick(".wbb-smilebox",".wbb-list",t)}),this)),o.find(".smile").mousedown(e.proxy((function(t){t.preventDefault(),this.insertAtCursor(this.options.bbmode?this.toBB(e(t.currentTarget).html()):e(e(t.currentTarget).html()))}),this))}},updateUI:function(t){(!t||t.which>=8&&t.which<=46||t.which>90||"mouseup"==t.type)&&e.each(this.controllers,e.proxy((function(t,e){e.trigger("queryState")}),this)),this.disNonActiveButtons()},initModal:function(){this.$modal=e("#wbbmodal"),0==this.$modal.length&&(e.log("Init modal"),this.$modal=e("<div>").attr("id","wbbmodal").prependTo(document.body).html('<div class="wbbm"><div class="wbbm-title"><span class="wbbm-title-text"></span><span class="wbbclose" title="'+CURLANG.close+'">Ã—</span></div><div class="wbbm-content"></div><div class="wbbm-bottom"><button id="wbbm-submit" class="wbb-button">'+CURLANG.save+'</button><button id="wbbm-cancel" class="wbb-cancel-button">'+CURLANG.cancel+'</button><button id="wbbm-remove" class="wbb-remove-button">'+CURLANG.remove+"</button></div></div>").hide(),this.$modal.find("#wbbm-cancel,.wbbclose").click(e.proxy(this.closeModal,this)),this.$modal.bind("click",e.proxy((function(t){0==e(t.target).parents(".wbbm").length&&this.closeModal()}),this)),e(document).bind("keydown",e.proxy(this.escModal,this)))},initHotkeys:function(){e.log("initHotkeys"),this.hotkeys=[];e.each(this.options.allButtons,e.proxy((function(t,i){if(i.hotkey){var n=i.hotkey.split("+");if(n&&n.length>=2){var s=0,o=n.pop();e.each(n,(function(t,i){switch(e.trim(i.toLowerCase())){case"ctrl":s+=1;break;case"shift":s+=4;break;case"alt":s+=7}})),s>0&&(this.hotkeys["m"+s]||(this.hotkeys["m"+s]=[]),this.hotkeys["m"+s]["k"+("0123456789       abcdefghijklmnopqrstuvwxyz".indexOf(o)+48)]=t)}}}),this))},presskey:function(t){if(1==t.ctrlKey||1==t.shiftKey||1==t.altKey){var e=(1==t.ctrlKey?1:0)+(1==t.shiftKey?4:0)+(1==t.altKey?7:0);if(this.hotkeys["m"+e]&&this.hotkeys["m"+e]["k"+t.which])return this.execCommand(this.hotkeys["m"+e]["k"+t.which],!1),t.preventDefault(),!1}},execCommand:function(t,i){e.log("execCommand: "+t);var n=this.options.allButtons[t];if(!0!==n.en)return!1;var s=this.queryState(t,i),o=this.isInClearTextBlock();if(!o||o==t){if(n.excmd)if(this.options.bbmode)if(e.log("Native command in bbmode: "+t),s&&1!=n.subInsert)this.wbbRemoveCallback(t,i);else{var a={};n.valueBBname&&i&&(a[n.valueBBname]=i),this.insertAtCursor(this.getBBCodeByCommand(t,a))}else this.execNativeCommand(n.excmd,i||!1);else n.cmd?n.cmd.call(this,t,i,s):this.wbbExecCommand.call(this,t,i,s);this.updateUI()}},queryState:function(t,i){var n=this.options.allButtons[t];if(!0!==n.en)return!1;if(this.options.bbmode){if(n.bbSelector)for(var s=0;s<n.bbSelector.length;s++){var o=this.isBBContain(n.bbSelector[s]);if(o)return this.getParams(o,n.bbSelector[s],o[1])}return!1}if(!n.excmd){if(e.isArray(n.rootSelector))for(s=0;s<n.rootSelector.length;s++){var a=this.isContain(this.getSelectNode(),n.rootSelector[s]);if(a)return this.getParams(a,n.rootSelector[s])}return!1}if(i)try{var r=(document.queryCommandValue(n.excmd)+"").replace(/\'/g,"");return"foreColor"==n.excmd&&(r=this.rgbToHex(r)),r}catch(t){return!1}else try{return("bold"!=n.excmd&&"italic"!=n.excmd&&"underline"!=n.excmd&&"strikeThrough"!=n.excmd||!e(this.getSelectNode()).is("img"))&&(!("underline"==n.excmd&&e(this.getSelectNode()).closest("a").length>0)&&document.queryCommandState(n.excmd))}catch(t){return!1}},wbbExecCommand:function(t,i,n){e.log("wbbExecCommand");var s=this.options.allButtons[t];if(s)if(s.modal)e.isFunction(s.modal)?s.modal.call(this,t,s.modal,n):this.showModal.call(this,t,s.modal,n);else if(n&&1!=s.subInsert)this.wbbRemoveCallback(t);else{if(s.groupkey){var o=this.options.groups[s.groupkey];if(o){var a=this.getSelectNode();e.each(o,e.proxy((function(t,i){var n=this.isContain(a,i);if(n){var s=e("<span>").html(n.innerHTML),o=this.setUID(s);return e(n).replaceWith(s),this.selectNode(this.$editor.find("#"+o)[0]),!1}}),this))}}this.wbbInsertCallback(t,i)}},wbbInsertCallback:function(i,n){"object"!=t(n)&&(n={}),e.log("wbbInsertCallback: "+i);var s=this.getCodeByCommand(i,n);if(this.insertAtCursor(s),this.seltextID&&-1!=s.indexOf(this.seltextID)){var o=this.$body.find("#"+this.seltextID)[0];this.selectNode(o),e(o).removeAttr("id"),this.seltextID=!1}},wbbRemoveCallback:function(t,i){e.log("wbbRemoveCallback: "+t);var n=this.options.allButtons[t];if(this.options.bbmode){this.getCursorPosBB();var s=0;e.each(n.bbSelector,e.proxy((function(t,n){var o=n.match(/\{[\s\S]+?\}/g);e.each(o,(function(t,e){if("{seltext}"==e.toLowerCase())return s=t,!1}));var a=this.isBBContain(n);if(a)return this.txtArea.value=this.txtArea.value.substr(0,a[1])+this.txtArea.value.substr(a[1],this.txtArea.value.length-a[1]).replace(a[0][0],!0===i?"":a[0][s+1]),this.setCursorPosBB(a[1]),!1}),this))}else{var o=this.getSelectNode();e.each(n.rootSelector,e.proxy((function(s,a){var r=this.isContain(o,a);if(!r)return!0;var l=e(r),c=this.options.rules[a][0][1];if(l.is("span[wbb]")||!l.is("span,font")){if(!0!==i&&c&&c.seltext)if(c&&c.seltext&&c.seltext.sel){var d=l.find(c.seltext.sel).html();!0===n.onlyClearText&&(d=(d=this.getHTML(d,!0,!0)).replace(/\&#123;/g,"{").replace(/\&#125;/g,"}")),l.replaceWith(d)}else{d=l.html();!0===n.onlyClearText&&(d=(d=this.getHTML(d,!0)).replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&#123;/g,"{").replace(/\&#125;/g,"}")),l.replaceWith(d)}else this.setCursorByEl(l),l.remove();return!1}var u=this.getRange(),p=this.getSelectText();this.getSelectNode();p=""==p?"\ufeff":this.clearFromSubInsert(p,t);var h=this.elFromString(p),f=window.getSelection?u.cloneRange():this.body.createTextRange(),m=window.getSelection?u.cloneRange():this.body.createTextRange();if(window.getSelection){this.insertAtCursor('<span id="wbbdivide"></span>');var g=l.find("span#wbbdivide").get(0);f.setStart(r.firstChild,0),f.setEndBefore(g),m.setStartAfter(g),m.setEndAfter(r.lastChild)}else f.moveToElementText(r),m.moveToElementText(r),f.setEndPoint("EndToStart",u),m.setEndPoint("StartToEnd",u);var b=this.getSelectText(!1,f),v=this.getSelectText(!1,m);if(""!=v){var y=l.clone().html(v);l.after(y)}return!0!==i&&l.after(h),window.getSelection?(l.html(b),!0!==i&&this.selectNode(h)):l.replaceWith(b),!1}),this))}},execNativeCommand:function(t,i){if(this.body.focus(),"insertHTML"!=t||window.getSelection)if("insertHTML"==t){var n=this.getSelection(),s=this.elFromString(i),o=this.lastRange?this.lastRange:this.getRange();o.deleteContents(),o.insertNode(s),o.collapse(!1),n.removeAllRanges(),n.addRange(o)}else void 0===i&&(i=!1),this.lastRange&&(e.log("Last range select"),this.selectLastRange()),document.execCommand(t,!1,i);else{var a=this.lastRange?this.lastRange:document.selection.createRange();a.pasteHTML(i);var r=e("<div>").html(i).text(),l=r.indexOf("\ufeff");l>-1&&(a.moveStart("character",-1*(r.length-l)),a.select()),this.lastRange=!1}},getCodeByCommand:function(t,e){return this.options.bbmode?this.getBBCodeByCommand(t,e):this.getHTMLByCommand(t,e)},getBBCodeByCommand:function(t,i){if(!this.options.allButtons[t])return"";void 0===i&&(i={}),(i=this.keysToLower(i)).seltext||(i.seltext=this.getSelectText(!0));var n=this.options.allButtons[t].bbcode;n=n.replace(/\{(.*?)(\[.*?\])*\}/g,(function(t,e,n){var s;if(n&&(n&&(s=new RegExp(n+"+","i")),void 0!==i[e.toLowerCase()]&&null===i[e.toLowerCase()].toString().match(s)))return"";return void 0===i[e.toLowerCase()]?"":i[e.toLowerCase()]}));var s=null,o=0;if(this.options.allButtons[t].transform){var a=[];e.each(this.options.allButtons[t].transform,(function(t,e){a.push(e)})),a=this.sortArray(a,-1),e.each(a,(function(t,e){var n=!0,a=0,r={};e=e.replace(/\{(.*?)(\[.*?\])*\}/g,(function(t,e,s){var o;return e=e.toLowerCase(),s&&(o=new RegExp(s+"+","i")),(void 0===i[e.toLowerCase()]||s&&null===i[e.toLowerCase()].toString().match(o))&&(n=!1),void 0===i[e]||r[e]||(r[e]=1,a++),void 0===i[e.toLowerCase()]?"":i[e.toLowerCase()]})),n&&a>o&&(s=e,o=a)}))}return s||n},getHTMLByCommand:function(t,i){if(!this.options.allButtons[t])return"";void 0===(i=this.keysToLower(i))&&(i={}),i.seltext||(i.seltext=this.getSelectText(!1),""==i.seltext?i.seltext="\ufeff":(i.seltext=this.clearFromSubInsert(i.seltext,t),!0===this.options.allButtons[t].onlyClearText&&(i.seltext=this.toBB(i.seltext).replace(/\</g,"&lt;").replace(/\n/g,"<br/>").replace(/\s{3}/g,'<span class="wbbtab"></span>'))));var n="";this.seltextID="wbbid_"+ ++this.lastid,"link"!=t&&"img"!=t?i.seltext='<span id="'+this.seltextID+'">'+i.seltext+"</span>":n='<span id="'+this.seltextID+'">\ufeff</span>';var s=this.options.allButtons[t].html;s=s.replace(/\{(.*?)(\[.*?\])*\}/g,(function(t,e,n){if(n){var s=new RegExp(n+"+","i");if(void 0!==i[e.toLowerCase()]&&null===i[e.toLowerCase()].toString().match(s))return""}return void 0===i[e.toLowerCase()]?"":i[e.toLowerCase()]}));var o=null,a=0;if(this.options.allButtons[t].transform){var r=[];e.each(this.options.allButtons[t].transform,(function(t,e){r.push(t)})),r=this.sortArray(r,-1),e.each(r,(function(t,e){var n=!0,s=0,r={};e=e.replace(/\{(.*?)(\[.*?\])*\}/g,(function(t,e,o){var a;return e=e.toLowerCase(),o&&(a=new RegExp(o+"+","i")),(void 0===i[e]||o&&null===i[e].toString().match(a))&&(n=!1),void 0===i[e]||r[e]||(r[e]=1,s++),void 0===i[e]?"":i[e]})),n&&s>a&&(o=e,a=s)}))}return(o||s)+n},getSelection:function(){return window.getSelection?window.getSelection():document.selection?(this.options.bbmode,document.selection.createRange()):void 0},getSelectText:function(t,i){if(t){if(this.txtArea.focus(),"selectionStart"in this.txtArea){var n=this.txtArea.selectionEnd-this.txtArea.selectionStart;return this.txtArea.value.substr(this.txtArea.selectionStart,n)}return document.selection.createRange().text}return this.body.focus(),i||(i=this.getRange()),window.getSelection?i?e("<div>").append(i.cloneContents()).html():"":i.htmlText},getRange:function(){if(!window.getSelection)return this.options.bbmode,document.selection.createRange();var t=this.getSelection();if(t.getRangeAt&&t.rangeCount>0)return t.getRangeAt(0);if(t.anchorNode){var e=(this.options.bbmode,document.createRange());return e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset),e}},insertAtCursor:function(t,i){if("string"!=typeof t&&(t=e("<div>").append(t).html()),this.options.bbmode&&void 0===i||!0===i){var n=t.replace(/.*(\[\/\S+?\])$/,"$1"),s=this.getCursorPosBB()+(-1!=t.indexOf(n)&&t.match(/\[.*\]/)?t.indexOf(n):t.length);document.selection?(this.txtArea.focus(),this.getSelection().text=t):(this.txtArea.selectionStart||"0"==this.txtArea.selectionStart)&&(this.txtArea.value=this.txtArea.value.substring(0,this.txtArea.selectionStart)+t+this.txtArea.value.substring(this.txtArea.selectionEnd,this.txtArea.value.length)),s<0&&(s=0),this.setCursorPosBB(s)}else{this.execNativeCommand("insertHTML",t);var o=this.getSelectNode();e(o).closest("table,tr,td")||this.splitPrevNext(o)}},getSelectNode:function(t){if(this.body.focus(),t||(t=this.getRange()),!t)return this.$body;var i=window.getSelection?t.commonAncestorContainer:t.parentElement();return e(i).is(".imgWrap")&&(i=e(i).children("img")[0]),i},getCursorPosBB:function(){var t=0;if("selectionStart"in this.txtArea)t=this.txtArea.selectionStart;else{this.txtArea.focus();var e=this.getRange(),i=document.body.createTextRange();i.moveToElementText(this.txtArea),i.setEndPoint("EndToStart",e),t=i.text.length}return t},setCursorPosBB:function(t){if(this.options.bbmode)if(window.getSelection)this.txtArea.selectionStart=t,this.txtArea.selectionEnd=t;else{var e=this.txtArea.createTextRange();e.collapse(!0),e.move("character",t),e.select()}},selectNode:function(t,e){if(e||(e=this.getRange()),e)if(window.getSelection){var i=this.getSelection();e.selectNodeContents(t),i.removeAllRanges(),i.addRange(e)}else e.moveToElementText(t),e.select()},selectRange:function(t){if(t)if(window.getSelection){var e=this.getSelection();e.removeAllRanges(),e.addRange(t)}else t.select()},cloneRange:function(t){if(t)return window.getSelection?t.cloneRange():t.duplicate()},getRangeClone:function(){return this.cloneRange(this.getRange())},saveRange:function(){this.setBodyFocus(),this.lastRange=this.getRangeClone()},selectLastRange:function(){this.lastRange&&(this.body.focus(),this.selectRange(this.lastRange),this.lastRange=!1)},setBodyFocus:function(){e.log("Set focus to WysiBB editor"),this.options.bbmode?this.$txtArea.is(":focus")||this.$txtArea.focus():this.$body.is(":focus")||this.$body.focus()},clearLastRange:function(){this.lastRange=!1},filterByNode:function(t){var i=e(t),n=i.get(0).tagName.toLowerCase(),s=this.getAttributeList(i.get(0));return e.each(s,e.proxy((function(t,s){var o=i.attr(s);if("_"==s.substr(0,1)&&(s=s.substr(1,s.length)),o&&!o.match(/\{.*?\}/))if("style"==s){var a=(o=i.attr(s)).split(";");e.each(a,(function(t,i){i&&i.length>0&&(n+="["+s+'*="'+e.trim(i)+'"]')}))}else n+="["+s+'="'+o+'"]';else if(o&&"style"==s){var r=o.substr(0,o.indexOf("{"));if(r&&""!=r){a=(o=o.substr(0,o.indexOf("{"))).split(";");e.each(a,(function(t,e){n+="["+s+'*="'+e+'"]'}))}}else n+="["+s+"]"}),this)),i.parent().children(n).index(i)>0&&(n+=":eq("+i.index()+")"),n},relFilterByNode:function(t,i){var n="";for(e.each(this.options.attrWrap,(function(t,e){i=i.replace("["+e,"[_"+e)}));t&&"BODY"!=t.tagName&&!e(t).is(i);)n=this.filterByNode(t)+" "+n,t&&(t=t.parentNode);return n},getRegexpReplace:function(t,e){return t=t.replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\)/g,"\\$1").replace(/\s+/g,"\\s+").replace(e.replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\)/g,"\\$1"),"(.+)").replace(/\{\S+?\}/g,".*")},getBBCode:function(){return this.options.rules?this.options.bbmode?this.$txtArea.val():(this.clearEmpty(),this.removeLastBodyBR(),this.toBB(this.$body.html())):this.$txtArea.val()},toBB:function(t){if(!t)return"";var i="string"==typeof t?e("<span>").html(t):e(t);i.find("div,blockquote,p").each((function(){3!=this.nodeType&&this.lastChild&&"BR"==this.lastChild.tagName&&e(this.lastChild).remove()})),i.is("div,blockquote,p")&&3!=i[0].nodeType&&i[0].lastChild&&"BR"==i[0].lastChild.tagName&&e(i[0].lastChild).remove(),i.find("ul > br, table > br, tr > br").remove();var n="";return e.each(this.options.srules,e.proxy((function(t,e){i.find(t).replaceWith(e[0])}),this)),i.contents().each(e.proxy((function(t,i){var s=e(i);if(3===i.nodeType)n+=i.data.replace(/\n+/,"").replace(/\t/g,"   ");else{for(var o=0;o<this.rsellist.length;o++){var a=this.rsellist[o];if(s&&s.is(a)){var r=this.options.rules[a];for(t=0;t<r.length;t++){var l=r[t][0],c=r[t][1],d=!1,u=!1;if(s.is("br")||(l=l.replace(/\n/g,"<br>")),l=l.replace(/\{(.*?)(\[.*?\])*\}/g,e.proxy((function(t,n,o){var a=c[n.toLowerCase()];void 0===a&&(e.log("Param: {"+n+"} not found in HTML representation."),d=!0);var r=a.sel?e(i).find(a.sel):e(i);if(a.attr&&!r.attr(a.attr))return d=!0,n;var l=a.attr?r.attr(a.attr):r.html();if(void 0===l||null==l)return d=!0,n;var p=a.rgx;p&&"style"==a.attr&&";"!=p.substr(p.length-1,1)&&(p+=";"),"style"==a.attr&&l&&";"!=l.substr(l.length-1,1)&&(l+=";");var h=!!p&&new RegExp(p,"");if(h)if(l.match(h)){var f=l.match(h);f&&2==f.length&&(l=f[1])}else l="";if(a.attr&&!1===d)if("style"==a.attr){u=!0;var m="",g=a.rgx.replace(/^\.\*\?/,"").replace(/\.\*$/,"").replace(/;$/,"");e(r.attr("style").split(";")).each((function(t,e){e&&""!=e&&(e.match(g)||(m+=e+";"))})),""==m?r.removeAttr("style"):r.attr("style",m)}else!1===a.rgx&&(u=!0,!0,r.removeAttr(a.attr));return s.is("table,tr,td,font")&&(u=!0),l||""}),this)),!d){if(s.is("img,br,hr")){n+=l,s=null;break}if(!u||s.attr("notkeep")){s.is("iframe")?n+=l:(s.empty().html(l),n+=this.toBB(s),s=null);break}s.is("table,tr,td")?(l=this.fixTableTransform(l),n+=this.toBB(e("<span>").html(l)),s=null):s.empty().html("<span>"+l+"</span>")}}}}if(!s||s.is("iframe,img"))return!0;n+=this.toBB(s)}}),this)),n.replace(/\uFEFF/g,""),n},getHTML:function(t,i,n){if(!this.options.bbmode&&!i)return this.$body.html();n||(t=t.replace(/</g,"&lt;").replace(/\{/g,"&#123;").replace(/\}/g,"&#125;")),t=t.replace(/\[code\]([\s\S]*?)\[\/code\]/g,(function(t){return"[code]"+(t=t.substr("[code]".length,t.length-"[code]".length-"[/code]".length).replace(/\[/g,"&#91;").replace(/\]/g,"&#93;"))+"[/code]"})),e.each(this.options.btnlist,e.proxy((function(i,n){if("|"!=n&&"-"!=n){if(!this.options.allButtons[n]||!this.options.allButtons[n].transform)return!0;e.each(this.options.allButtons[n].transform,e.proxy((function(i,n){i=i.replace(/\n/g,"");var s=[];n=(n=n.replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\|\\)/g,"\\$1")).replace(/\{(.*?)(\\\[.*?\\\])*\}/gi,e.proxy((function(t,e,i){return s.push(e),i?"("+(i=i.replace(/\\/g,""))+"*?)":"([\\s\\S]*?)"}),this));for(var o;null!=(o=new RegExp(n,"mgi").exec(t));)if(o){var a={};e.each(s,e.proxy((function(t,e){a[e]=o[t+1]}),this));var r=i;r=r.replace(/\{(.*?)(\[.*?\])\}/g,"{$1}"),r=this.strf(r,a),t=t.replace(o[0],r)}}),this))}}),this)),e.each(this.options.systr,(function(e,i){i=i.replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\|\\)/g,"\\$1").replace(" ","\\s"),t=t.replace(new RegExp(i,"g"),e)}));var s=e(this.elFromString("<div>"+t+"</div>"));return this.getHTMLSmiles(s),s.html()},getHTMLSmiles:function(t){e(t).contents().filter((function(){return 3==this.nodeType})).each(e.proxy(this.smileRPL,this))},smileRPL:function(t,i){var n=i.data;e.each(this.options.smileList,e.proxy((function(t,s){var o=n.indexOf(s.bbcode);if(-1!=o){var a=n.substring(o+s.bbcode.length,n.length),r=document.createTextNode(a);return i.data=n=i.data.substr(0,o),e(i).after(r).after(this.strf(s.img,this.options)),this.getHTMLSmiles(i.parentNode),!1}this.getHTMLSmiles(i)}),this))},setUID:function(t,i){var n="wbbid_"+ ++this.lastid;return t&&e(t).attr(i||"id",n),n},keysToLower:function(t){return e.each(t,(function(e,i){e!=e.toLowerCase()&&(delete t[e],t[e.toLowerCase()]=i)})),t},strf:function(t,i){return i=this.keysToLower(e.extend({},i)),t.replace(/\{([\w\.]*)\}/g,(function(t,n){var s=(n=n.toLowerCase()).split("."),o=i[s.shift().toLowerCase()];return e.each(s,(function(){o=o[this]})),null==o?"":o}))},elFromString:function(t){if(-1!=t.indexOf("<")&&-1!=t.indexOf(">")){var i=document.createElement("SPAN");return e(i).html(t),this.setUID(i,"wbb"),e(i).contents().length>1?i:i.firstChild}return document.createTextNode(t)},isContain:function(t,i){for(;t&&!e(t).hasClass("wysibb");){if(e(t).is(i))return t;if(!t)return null;t=t.parentNode}},isBBContain:function(t){for(var e,i=this.getCursorPosBB(),n=this.prepareRGX(t),s=new RegExp(n,"g"),o=0;null!=(e=s.exec(this.txtArea.value));){var a=this.txtArea.value.indexOf(e[0],o);if(i>a&&i<a+e[0].length)return[e,a];o=a+1}},prepareRGX:function(t){return t.replace(/(\[|\]|\)|\(|\.|\*|\?|\:|\||\\)/g,"\\$1").replace(/\{.*?\}/g,"([\\s\\S]*?)")},checkForLastBR:function(t){t||(i=this.body),3==t.nodeType&&(t=t.parentNode);var i=e(t);if(i.is("span[id*='wbbid']")&&(i=i.parent()),!1===this.options.bbmode&&i.is("div,blockquote,code")&&i.contents().length>0){var n=i[0].lastChild;(!n||n&&"BR"!=n.tagName)&&i.append("<br/>")}this.$body.contents().length>0&&"BR"!=this.body.lastChild.tagName&&this.$body.append("<br/>")},getAttributeList:function(t){var i=[];return e.each(t.attributes,(function(t,e){e.specified&&i.push(e.name)})),i},clearFromSubInsert:function(t,i){if(this.options.allButtons[i]&&this.options.allButtons[i].rootSelector){var n=e("<div>").html(t);return e.each(this.options.allButtons[i].rootSelector,e.proxy((function(t,i){var s=!1;void 0!==this.options.rules[i][0][1].seltext&&(s=this.options.rules[i][0][1].seltext.sel);var o=!0;return n.find("*").each((function(){e(this).is(i)&&(s&&s.sel?e(this).replaceWith(e(this).find(s.sel.toLowerCase()).html()):e(this).replaceWith(e(this).html()),o=!1)})),o}),this)),n.html()}return t},splitPrevNext:function(t){3==t.nodeType&&(t=t.parentNode);var i=this.filterByNode(t).replace(/\:eq.*$/g,"");e(t.nextSibling).is(i)&&(e(t).append(e(t.nextSibling).html()),e(t.nextSibling).remove()),e(t.previousSibling).is(i)&&(e(t).prepend(e(t.previousSibling).html()),e(t.previousSibling).remove())},modeSwitch:function(){this.options.bbmode?(this.$body.html(this.getHTML(this.$txtArea.val())),this.$txtArea.hide().removeAttr("wbbsync").val(""),this.$body.css("min-height",this.$txtArea.height()).show().focus()):(this.$txtArea.val(this.getBBCode()).css("min-height",this.$body.height()),this.$body.hide(),this.$txtArea.show().focus()),this.options.bbmode=!this.options.bbmode},clearEmpty:function(){this.$body.children().filter((function t(){if(!e(this).is("span,font,a,b,i,u,s"))return!1;if(!e(this).hasClass("wbbtab")&&0==e.trim(e(this).html()).length)return!0;if(e(this).children().length>0&&(e(this).children().filter(t).remove(),0==e(this).html().length&&"BODY"!=this.tagName))return!0})).remove()},dropdownclick:function(t,i,n){var s=e(n.currentTarget).closest(t);s.hasClass("dis")||(s.attr("wbbshow")?(s.removeAttr("wbbshow"),e(document).unbind("mousedown",this.dropdownhandler),document&&e(document).unbind("mousedown",this.dropdownhandler),this.lastRange=!1):(this.saveRange(),this.$editor.find("*[wbbshow]").each((function(t,i){e(i).removeClass("on").find(e(i).attr("wbbshow")).hide().end().removeAttr("wbbshow")})),s.attr("wbbshow",i),e(document.body).bind("mousedown",e.proxy((function(e){this.dropdownhandler(s,t,i,e)}),this)),this.$body&&this.$body.bind("mousedown",e.proxy((function(e){this.dropdownhandler(s,t,i,e)}),this))),s.find(i).toggle(),s.toggleClass("on"))},dropdownhandler:function(t,i,n,s){0==e(s.target).parents(i).length&&(t.removeClass("on").find(n).hide(),e(document).unbind("mousedown",this.dropdownhandler),this.$body&&this.$body.unbind("mousedown",this.dropdownhandler))},rgbToHex:function(t){if("#"==t.substr(0,1))return t;if(-1==t.indexOf("rgb")){var e=parseInt(t);return"#"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)}var i=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/.exec(t);return"#"+this.dec2hex(parseInt(i[2]))+this.dec2hex(parseInt(i[3]))+this.dec2hex(parseInt(i[4]))},dec2hex:function(t){return t>15?t.toString(16):"0"+t.toString(16)},sync:function(){this.options.bbmode?this.$body.html(this.getHTML(this.txtArea.value,!0)):this.$txtArea.attr("wbbsync",1).val(this.getBBCode())},clearPaste:function(t){var i=e(t);e.each(this.options.rules,e.proxy((function(t,n){var s=i.find(t).attr("wbbkeep",1);if(s.length>0){var o=n[0][1];e.each(o,(function(t,e){e.sel&&s.find(e.sel).attr("wbbkeep",1)}))}}),this)),i.find("*[wbbkeep!='1']").each(e.proxy((function(t,i){var n=e(i);!n.is("div,p")||0!=n.children().length&&"BR"==i.lastChild.tagName||n.after("<br/>")}),this)),i.find("*[wbbkeep]").removeAttr("wbbkeep").removeAttr("style"),e.log(i.html()),i.html(this.getHTML(this.toBB(i),!0)),e.log(i.html())},sortArray:function(t,e){return t.sort((function(t,i){return(t.length-i.length)*(e||1)})),t},smileFind:function(){if(this.options.smilefind){var t=e(this.options.smilefind).find("img[alt]");t.length>0&&(this.options.smileList=[],t.each(e.proxy((function(t,i){var n=e(i);this.options.smileList.push({title:n.attr("title"),bbcode:n.attr("alt"),img:n.removeAttr("alt").removeAttr("title")[0].outerHTML})}),this)))}},destroy:function(){this.$editor.replaceWith(this.$txtArea),this.$txtArea.removeClass("wysibb-texarea").show(),this.$modal.remove(),this.$txtArea.data("wbb",null)},pressTab:function(t){t&&9==t.which&&(t.preventDefault&&t.preventDefault(),this.options.bbmode?this.insertAtCursor("   ",!1):this.insertAtCursor('<span class="wbbtab">\ufeff</span>',!1))},removeLastBodyBR:function(){this.body.lastChild&&3!=this.body.lastChild.nodeType&&"BR"==this.body.lastChild.tagName&&(this.body.removeChild(this.body.lastChild),this.removeLastBodyBR())},traceTextareaEvent:function(t){0==e(t.target).closest("div.wysibb").length&&(e(document.activeElement).is("div.wysibb-body")&&this.saveRange(),setTimeout(e.proxy((function(){var i=this.$txtArea.val();!1!==this.options.bbmode||""==i||0!=e(t.target).closest("div.wysibb").length||this.$txtArea.attr("wbbsync")||(this.selectLastRange(),this.insertAtCursor(this.getHTML(i,!0)),this.$txtArea.val("")),e(document.activeElement).is("div.wysibb-body")&&(this.lastRange=!1)}),this),100))},txtAreaInitContent:function(){this.$body.html(this.getHTML(this.txtArea.value,!0))},getValidationRGX:function(t){return t.match(/\[\S+\]/)?t.replace(/.*(\\*\[\S+\]).*/,"$1"):""},smileConversion:function(){if(this.options.smileList&&this.options.smileList.length>0){var t=this.getSelectNode();if(3==t.nodeType){var i=t.data;i.length>=2&&!this.isInClearTextBlock(t)&&0==e(t).parents("a").length&&e.each(this.options.srules,e.proxy((function(n,s){var o=s[0],a=i.indexOf(o);if(-1!=a){var r=i.substring(a+o.length,i.length),l=document.createTextNode(r),c=document.createElement("SPAN");return t.data=t.data.substr(0,a),e(t).after(l).after(c).after(this.strf(s[1],this.options)),this.selectNode(c),!1}}),this))}}},isInClearTextBlock:function(){if(this.cleartext){var t=!1;return e.each(this.cleartext,e.proxy((function(e,i){if(this.queryState(i))return t=i,!1}),this)),t}return!1},wrapAttrs:function(t){return e.each(this.options.attrWrap,(function(e,i){t=t.replace(i+'="',"_"+i+'="')})),t},unwrapAttrs:function(t){return e.each(this.options.attrWrap,(function(e,i){t=t.replace("_"+i+'="',i+'="')})),t},disNonActiveButtons:function(){this.isInClearTextBlock()?this.$toolbar.find(".wysibb-toolbar-btn:not(.on,.mswitch)").addClass("dis"):this.$toolbar.find(".wysibb-toolbar-btn.dis").removeClass("dis")},setCursorByEl:function(t){var i=document.createTextNode("\ufeff");e(t).after(i),this.selectNode(i)},imgListeners:function(){e(document).on("mousedown",e.proxy(this.imgEventHandler,this))},imgEventHandler:function(t){var i=e(t.target);this.hasWrapedImage&&(0==i.closest(".wbb-img,#wbbmodal").length||i.hasClass("wbb-cancel-button"))&&(this.$body.find(".imgWrap ").each((function(){e.log("Removed imgWrap block"),e(this).replaceWith(e(this).find("img"))})),this.hasWrapedImage=!1,this.updateUI()),i.is("img")&&i.closest(".wysibb-body").length>0&&(i.wrap("<span class='imgWrap'></span>"),this.hasWrapedImage=i,this.$body.focus(),this.selectNode(i.parent()[0]))},showModal:function(t,i,n){e.log("showModal: "+t),this.saveRange();var s=this.$modal.find(".wbbm-content").html(""),o=this.$modal.find(".wbbm").removeClass("hastabs");if(this.$modal.find("span.wbbm-title-text").html(i.title),i.tabs&&i.tabs.length>1){o.addClass("hastabs");var a=e('<div class="wbbm-tablist">').appendTo(s).append("<ul>").children("ul");e.each(i.tabs,e.proxy((function(t,e){0==t&&(e.on="on"),a.append(this.strf("<li class=\"{on}\" onClick=\"$(this).parent().find('.on').removeClass('on');$(this).addClass('on');$(this).parents('.wbbm-content').find('.tab-cont').hide();$(this).parents('.wbbm-content').find('.tab"+t+"').show()\">{title}</li>",e))}),this))}i.width&&o.css("width",i.width);var r=e('<div class="wbbm-cont">').appendTo(s);n?o.find("#wbbm-remove").show():o.find("#wbbm-remove").hide(),e.each(i.tabs,e.proxy((function(t,i){var s=e("<div>").addClass("tab-cont tab"+t).attr("tid",t).appendTo(r);t>0&&s.hide(),i.html?s.html(this.strf(i.html,this.options)):e.each(i.input,e.proxy((function(t,i){i.value=n[i.param.toLowerCase()],"seltext"!=i.param.toLowerCase()||i.value&&""!=i.value||(i.value=this.getSelectText(this.options.bbmode)),i.value&&0==i.value.indexOf("<span id='wbbid")&&e(i.value).is("span[id*='wbbid']")&&(i.value=e(i.value).html()),i.type&&"div"==i.type?s.append(this.strf('<div class="wbbm-inp-row"><label>{title}</label><div class="inp-text div-modal-text" contenteditable="true" name="{param}">{value}</div></div>',i)):s.append(this.strf('<div class="wbbm-inp-row"><label>{title}</label><input class="inp-text modal-text" type="text" name="{param}" value="{value}"/></div>',i))}),this))}),this)),e.isFunction(i.onLoad)&&i.onLoad.call(this,t,i,n),o.find("#wbbm-submit").click(e.proxy((function(){if(e.isFunction(i.onSubmit)&&!1===i.onSubmit.call(this,t,i,n))return;var s={},o=!0;this.$modal.find(".wbbm-inperr").remove(),this.$modal.find(".wbbm-brdred").removeClass("wbbm-brdred"),e.each(this.$modal.find(".tab-cont:visible .inp-text"),e.proxy((function(t,n){var a=e(n).parents(".tab-cont").attr("tid"),r=e(n).attr("name").toLowerCase(),l="";l=e(n).is("input,textrea,select")?e(n).val():e(n).html();var c=i.tabs[a].input[t].validation;void 0!==c&&(l.match(new RegExp(c,"i"))||(o=!1,e(n).after('<span class="wbbm-inperr">'+CURLANG.validation_err+"</span>").addClass("wbbm-brdred"))),s[r]=l}),this)),o&&(e.log("Last range: "+this.lastRange),this.selectLastRange(),n&&this.wbbRemoveCallback(t,!0),this.wbbInsertCallback(t,s),this.closeModal(),this.updateUI())}),this)),o.find("#wbbm-remove").click(e.proxy((function(){this.selectLastRange(),this.wbbRemoveCallback(t),this.closeModal(),this.updateUI()}),this)),e(document.body).css("overflow","hidden"),e("body").height()>e(window).height()&&e(document.body).css("padding-right","18px"),this.$modal.show(),this.isMobile?o.css("margin-top","10px"):o.css("margin-top",(e(window).height()-o.outerHeight())/3+"px"),setTimeout(e.proxy((function(){this.$modal.find(".inp-text:visible")[0].focus()}),this),10)},escModal:function(t){27==t.which&&this.closeModal()},closeModal:function(){return e(document.body).css("overflow","auto").css("padding-right","0").unbind("keyup",this.escModal),this.$modal.find("#wbbm-submit,#wbbm-remove").unbind("click"),this.$modal.hide(),this.lastRange=!1,this},getParams:function(t,i,n){var s={};if(this.options.bbmode){var o=i.match(/\{[\s\S]+?\}/g);i=this.prepareRGX(i);var a=new RegExp(i,"g"),r=this.txtArea.value;n>0&&(r=r.substr(n,r.length-n));var l=a.exec(r);l&&e.each(o,(function(t,e){s[e.replace(/\{|\}/g,"").replace(/"/g,"'").toLowerCase()]=l[t+1]}))}else{var c=this.options.rules[i][0][1];e.each(c,e.proxy((function(i,n){var o="",a=!1!==n.sel?o=e(t).find(n.sel):e(t);if(o=!1!==n.attr?a.attr(n.attr):a.html()){if(!1!==n.rgx){var r=o.match(new RegExp(n.rgx));r&&2==r.length&&(o=r[1])}s[i]=o.replace(/"/g,"'")}}),this))}return s},imgLoadModal:function(){e.log("imgLoadModal"),!0===this.options.imgupload?(this.$modal.find("#imguploader").dragfileupload({url:this.strf(this.options.img_uploadurl,this.options),extraParams:{maxwidth:this.options.img_maxwidth,maxheight:this.options.img_maxheight},themePrefix:this.options.themePrefix,themeName:this.options.themeName,success:e.proxy((function(t){this.$txtArea.insertImage(t.image_link,t.thumb_link),this.closeModal(),this.updateUI()}),this)}),this.$modal.find("#fileupl").bind("change",(function(){e("#fupform").submit()})),this.$modal.find("#fupform").bind("submit",e.proxy((function(t){e(t.target).parents("#imguploader").hide().after('<div class="loader"><img src="'+this.options.themePrefix+"/"+this.options.themeName+'/img/loader.gif" /><br/><span>'+CURLANG.loading+"</span></div>").parent().css("text-align","center")}),this))):(this.$modal.find(".hastabs").removeClass("hastabs"),this.$modal.find("#imguploader").parents(".tab-cont").remove(),this.$modal.find(".wbbm-tablist").remove())},imgSubmitModal:function(){e.log("imgSubmitModal")},printObjectInIE:function(t){try{e.log(JSON.stringify(t))}catch(t){}},checkFilter:function(t,i){e.log("node: "+e(t).get(0).outerHTML+" filter: "+i+" res: "+e(t).is(i.toLowerCase()))},debug:function(t){if(!0===this.options.debug){var i=(new Date).getTime();"undefined"!=typeof console?console.log(i-this.startTime+" ms: "+t):e("#exlog").append("<p>"+(i-this.startTime)+" ms: "+t+"</p>"),this.startTime=i}},isChrome:function(){return!!window.chrome},fixTableTransform:function(t){return t?-1==e.inArray("table",this.options.buttons)?t.replace(/\<(\/*?(table|tr|td|tbody))[^>]*\>/gi,""):t.replace(/\<(\/*?(table|tr|td))[^>]*\>/gi,"[$1]".toLowerCase()).replace(/\<\/*tbody[^>]*\>/gi,""):""}},e.log=function(t){"undefined"!=typeof wbbdebug&&!0===wbbdebug&&("undefined"!=typeof console?console.log(t):e("#exlog").append("<p>"+t+"</p>"))},e.fn.wysibb=function(t){return this.each((function(){e(this).data("wbb")||new e.wysibb(this,t)}))},e.fn.wdrag=function(t){t.scope||(t.scope=this);var i,n={x:0,y:0,height:0};t.scope.drag_mousedown=function(s){s.preventDefault(),n={x:s.pageX,y:s.pageY,height:t.height,sheight:t.scope.$body.height()},i=!0,e(document).bind("mousemove",e.proxy(t.scope.drag_mousemove,this)),e(this).addClass("drag")},t.scope.drag_mouseup=function(n){!0===i&&(n.preventDefault(),e(document).unbind("mousemove",t.scope.drag_mousemove),e(this).removeClass("drag"),i=!1)},t.scope.drag_mousemove=function(e){e.preventDefault();var i=0;if(t.axisX&&e.pageX-n.x,t.axisY&&(i=e.pageY-n.y),0!=i){var s=n.sheight+i;s>n.height&&s<=t.scope.options.resize_maxheight&&(1==t.scope.options.bbmode?t.scope.$txtArea.css(!0===t.scope.options.autoresize?"min-height":"height",s+"px"):t.scope.$body.css(!0===t.scope.options.autoresize?"min-height":"height",s+"px"))}},e(this).bind("mousedown",t.scope.drag_mousedown),e(document).bind("mouseup",e.proxy(t.scope.drag_mouseup,this))},e.fn.getDoc=function(){return this.data("wbb").doc},e.fn.getSelectText=function(t){return this.data("wbb").getSelectText(t)},e.fn.bbcode=function(t){return void 0!==t?(this.data("wbb").options.bbmode?this.data("wbb").$txtArea.val(t):this.data("wbb").$body.html(this.data("wbb").getHTML(t)),this):this.data("wbb").getBBCode()},e.fn.htmlcode=function(t){if(!this.data("wbb").options.onlyBBMode&&!0===this.data("wbb").inited)return void 0!==t?(this.data("wbb").$body.html(t),this):this.data("wbb").getHTML(this.data("wbb").$txtArea.val())},e.fn.getBBCode=function(){return this.data("wbb").getBBCode()},e.fn.getHTML=function(){var t=this.data("wbb");return t.getHTML(t.$txtArea.val())},e.fn.getHTMLByCommand=function(t,e){return this.data("wbb").getHTMLByCommand(t,e)},e.fn.getBBCodeByCommand=function(t,e){return this.data("wbb").getBBCodeByCommand(t,e)},e.fn.insertAtCursor=function(t,e){return this.data("wbb").insertAtCursor(t,e),this.data("wbb")},e.fn.execCommand=function(t,e){return this.data("wbb").execCommand(t,e),this.data("wbb")},e.fn.insertImage=function(t,e){var i=this.data("wbb"),n=e?i.getCodeByCommand("link",{url:t,seltext:i.getCodeByCommand("img",{src:e})}):i.getCodeByCommand("img",{src:t});return this.insertAtCursor(n),i},e.fn.sync=function(){return this.data("wbb").sync(),this.data("wbb")},e.fn.destroy=function(){this.data("wbb").destroy()},e.fn.queryState=function(t){return this.data("wbb").queryState(t)}}(jQuery),function(t){"use strict";function e(e,i){this.$block=t(e),this.opt=t.extend({url:!1,success:!1,extraParams:!1,fileParam:"img",validation:".(jpg|png|gif|jpeg)$",t1:CURLANG.fileupload_text1,t2:CURLANG.fileupload_text2},i)}t.fn.dragfileupload=function(t){return this.each((function(){new e(this,t).init()}))},e.prototype={init:function(){if(null!=window.FormData){this.$block.addClass("drag"),this.$block.prepend('<div class="p2">'+this.opt.t2+"</div>"),this.$block.prepend('<div class="p">'+this.opt.t1+"</div>"),this.$block.bind("dragover",(function(){return t(this).addClass("dragover"),!1})),this.$block.bind("dragleave",(function(){return t(this).removeClass("dragover"),!1}));var e=t.proxy((function(t){var e=parseInt(t.loaded/t.total*100,10);this.$loader.children("span").text(CURLANG.loading+": "+e+"%")}),this),i=jQuery.ajaxSettings.xhr();i.upload&&i.upload.addEventListener("progress",e,!1),this.$block[0].ondrop=t.proxy((function(e){e.preventDefault(),this.$block.removeClass("dragover");var n=e.dataTransfer.files[0];if(this.opt.validation&&!n.name.match(new RegExp(this.opt.validation)))return this.error(CURLANG.validation_err),!1;var s=new FormData;s.append(this.opt.fileParam,n),this.opt.extraParams&&t.each(this.opt.extraParams,(function(t,e){s.append(t,e)})),this.$loader=t('<div class="loader"><img src="'+this.opt.themePrefix+"/"+this.opt.themeName+'/img/loader.gif" /><br/><span>'+CURLANG.loading+"</span></div>"),this.$block.html(this.$loader),t.ajax({type:"POST",url:this.opt.url,data:s,processData:!1,contentType:!1,xhr:function(){return i},dataType:"json",success:t.proxy((function(t){t&&1==t.status?this.opt.success(t):this.error(t.msg||CURLANG.error_onupload)}),this),error:t.proxy((function(t,e,i){this.error(CURLANG.error_onupload)}),this)})}),this)}},error:function(t){this.$block.find(".upl-error").remove().end().append('<span class="upl-error">'+t+"</span>").addClass("wbbm-brdred")}}}(jQuery)},4177:()=>{},6348:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const n={name:"CkeditorInputComponent",props:{label:{type:String,default:"Message"},id:{type:String,default:""},name:{type:String,default:""},classes:{type:String,default:""},value:{type:String,default:""},errors:{type:String,default:""},language:{type:String,default:"en"},upload_url:{type:String,default:""}},data:function(){return{model_value:this.value,attached_files:[]}},mounted:function(){var t=this,e={simpleUpload:{uploadUrl:this.upload_url,withCredentials:!1,savedCallback:function(e){t.attached_files.push(e)}},language:this.language};ClassicEditor.create(document.querySelector("#"+this.id),e).then((function(t){window.editor=t})).catch((function(t){console.error(t)}))}};const s=(0,i(1900).Z)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:t.id}},[t._v(t._s(t.label))]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.model_value,expression:"model_value"}],staticClass:"form-control",class:t.classes+(t.errors?"is-invalid":""),attrs:{name:t.name,id:t.id},domProps:{value:t.model_value},on:{input:function(e){e.target.composing||(t.model_value=e.target.value)}}}),t._v(" "),t.errors?i("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors))]):t._e()]),t._v(" "),t._l(t.attached_files,(function(e){return i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"file.id"}],attrs:{type:"hidden",name:"attached_files[]"},domProps:{value:e.id},on:{input:function(i){i.target.composing||t.$set(e,"id",i.target.value)}}})])}))],2)}),[],!1,null,null,null).exports},26:(t,e,i)=>{var n={"./components/CkeditorInputComponent.vue":6348};function s(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=o,t.exports=s,s.id=26}},t=>{"use strict";var e=e=>t(t.s=e);t.O(0,[411,333],(()=>(e(8841),e(4177))));t.O()}]);